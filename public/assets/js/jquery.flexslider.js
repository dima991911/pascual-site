"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t=!0;e.flexslider=function(a,n){var i=e(a);i.vars=e.extend({},e.flexslider.defaults,n);var s,r=i.vars.namespace,o=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,l=("ontouchstart"in window||o||window.DocumentTouch&&document instanceof DocumentTouch)&&i.vars.touch,c="click touchend MSPointerUp keyup",d="",u="vertical"===i.vars.direction,v=i.vars.reverse,p=i.vars.itemWidth>0,m="fade"===i.vars.animation,f=""!==i.vars.asNavFor,g={};e.data(a,"flexslider",i),g={init:function(){i.animating=!1,i.currentSlide=parseInt(i.vars.startAt?i.vars.startAt:0,10),isNaN(i.currentSlide)&&(i.currentSlide=0),i.animatingTo=i.currentSlide,i.atEnd=0===i.currentSlide||i.currentSlide===i.last,i.containerSelector=i.vars.selector.substr(0,i.vars.selector.search(" ")),i.slides=e(i.vars.selector,i),i.container=e(i.containerSelector,i),i.count=i.slides.length,i.syncExists=e(i.vars.sync).length>0,"slide"===i.vars.animation&&(i.vars.animation="swing"),i.prop=u?"top":"marginLeft",i.args={},i.manualPause=!1,i.stopped=!1,i.started=!1,i.startTimeout=null,i.transitions=!i.vars.video&&!m&&i.vars.useCSS&&function(){var e=document.createElement("div"),t=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var a in t)if(void 0!==e.style[t[a]])return i.pfx=t[a].replace("Perspective","").toLowerCase(),i.prop="-"+i.pfx+"-transform",!0;return!1}(),i.ensureAnimationEnd="",""!==i.vars.controlsContainer&&(i.controlsContainer=e(i.vars.controlsContainer).length>0&&e(i.vars.controlsContainer)),""!==i.vars.manualControls&&(i.manualControls=e(i.vars.manualControls).length>0&&e(i.vars.manualControls)),""!==i.vars.customDirectionNav&&(i.customDirectionNav=2===e(i.vars.customDirectionNav).length&&e(i.vars.customDirectionNav)),i.vars.randomize&&(i.slides.sort(function(){return Math.round(Math.random())-.5}),i.container.empty().append(i.slides)),i.doMath(),i.setup("init"),i.vars.controlNav&&g.controlNav.setup(),i.vars.directionNav&&g.directionNav.setup(),i.vars.keyboard&&(1===e(i.containerSelector).length||i.vars.multipleKeyboard)&&e(document).bind("keyup",function(e){var t=e.keyCode;if(!i.animating&&(39===t||37===t)){var a=39===t?i.getTarget("next"):37===t&&i.getTarget("prev");i.flexAnimate(a,i.vars.pauseOnAction)}}),i.vars.mousewheel&&i.bind("mousewheel",function(e,t,a,n){e.preventDefault();var s=t<0?i.getTarget("next"):i.getTarget("prev");i.flexAnimate(s,i.vars.pauseOnAction)}),i.vars.pausePlay&&g.pausePlay.setup(),i.vars.slideshow&&i.vars.pauseInvisible&&g.pauseInvisible.init(),i.vars.slideshow&&(i.vars.pauseOnHover&&i.hover(function(){i.manualPlay||i.manualPause||i.pause()},function(){i.manualPause||i.manualPlay||i.stopped||i.play()}),i.vars.pauseInvisible&&g.pauseInvisible.isHidden()||(i.vars.initDelay>0?i.startTimeout=setTimeout(i.play,i.vars.initDelay):i.play())),f&&g.asNav.setup(),l&&i.vars.touch&&g.touch(),(!m||m&&i.vars.smoothHeight)&&e(window).bind("resize orientationchange focus",g.resize()),i.find("img").attr("draggable","false"),setTimeout(function(){i.vars.start(i)},200)},asNav:{setup:function(){i.asNav=!0,i.animatingTo=Math.floor(i.currentSlide/i.move),i.currentItem=i.currentSlide,i.slides.removeClass(r+"active-slide").eq(i.currentItem).addClass(r+"active-slide"),o?(a._slider=i,i.slides.each(function(){var t=this;t._gesture=new MSGesture,t._gesture.target=t,t.addEventListener("MSPointerDown",function(e){e.preventDefault(),e.currentTarget._gesture&&e.currentTarget._gesture.addPointer(e.pointerId)},!1),t.addEventListener("MSGestureTap",function(t){t.preventDefault();var a=e(this),n=a.index();e(i.vars.asNavFor).data("flexslider").animating||a.hasClass("active")||(i.direction=i.currentItem<n?"next":"prev",i.flexAnimate(n,i.vars.pauseOnAction,!1,!0,!0))})})):i.slides.on(c,function(t){t.preventDefault();var a=e(this),n=a.index();a.offset().left-e(i).scrollLeft()<=0&&a.hasClass(r+"active-slide")?i.flexAnimate(i.getTarget("prev"),!0):e(i.vars.asNavFor).data("flexslider").animating||a.hasClass(r+"active-slide")||(i.direction=i.currentItem<n?"next":"prev",i.flexAnimate(n,i.vars.pauseOnAction,!1,!0,!0))})}},controlNav:{setup:function(){i.manualControls?g.controlNav.setupManual():g.controlNav.setupPaging()},setupPaging:function(){var t,a,n="thumbnails"===i.vars.controlNav?"control-thumbs":"control-paging",s=1;if(i.controlNavScaffold=e('<ol class="'+r+"control-nav "+r+n+'"></ol>'),i.pagingCount>1)for(var o=0;o<i.pagingCount;o++){void 0===(a=i.slides.eq(o)).attr("data-thumb-alt")&&a.attr("data-thumb-alt","");var l=""!==a.attr("data-thumb-alt")?l=' alt="'+a.attr("data-thumb-alt")+'"':"";if(t="thumbnails"===i.vars.controlNav?'<img src="'+a.attr("data-thumb")+'"'+l+"/>":'<a href="#">'+s+"</a>","thumbnails"===i.vars.controlNav&&!0===i.vars.thumbCaptions){var u=a.attr("data-thumbcaption");""!==u&&void 0!==u&&(t+='<span class="'+r+'caption">'+u+"</span>")}i.controlNavScaffold.append("<li>"+t+"</li>"),s++}i.controlsContainer?e(i.controlsContainer).append(i.controlNavScaffold):i.append(i.controlNavScaffold),g.controlNav.set(),g.controlNav.active(),i.controlNavScaffold.delegate("a, img",c,function(t){if(t.preventDefault(),""===d||d===t.type){var a=e(this),n=i.controlNav.index(a);a.hasClass(r+"active")||(i.direction=n>i.currentSlide?"next":"prev",i.flexAnimate(n,i.vars.pauseOnAction))}""===d&&(d=t.type),g.setToClearWatchedEvent()})},setupManual:function(){i.controlNav=i.manualControls,g.controlNav.active(),i.controlNav.bind(c,function(t){if(t.preventDefault(),""===d||d===t.type){var a=e(this),n=i.controlNav.index(a);a.hasClass(r+"active")||(n>i.currentSlide?i.direction="next":i.direction="prev",i.flexAnimate(n,i.vars.pauseOnAction))}""===d&&(d=t.type),g.setToClearWatchedEvent()})},set:function(){var t="thumbnails"===i.vars.controlNav?"img":"a";i.controlNav=e("."+r+"control-nav li "+t,i.controlsContainer?i.controlsContainer:i)},active:function(){i.controlNav.removeClass(r+"active").eq(i.animatingTo).addClass(r+"active")},update:function(t,a){i.pagingCount>1&&"add"===t?i.controlNavScaffold.append(e('<li><a href="#">'+i.count+"</a></li>")):1===i.pagingCount?i.controlNavScaffold.find("li").remove():i.controlNav.eq(a).closest("li").remove(),g.controlNav.set(),i.pagingCount>1&&i.pagingCount!==i.controlNav.length?i.update(a,t):g.controlNav.active()}},directionNav:{setup:function(){var t=e('<ul class="'+r+'direction-nav"><li class="'+r+'nav-prev"><a class="'+r+'prev" href="#">'+i.vars.prevText+'</a></li><li class="'+r+'nav-next"><a class="'+r+'next" href="#">'+i.vars.nextText+"</a></li></ul>");i.customDirectionNav?i.directionNav=i.customDirectionNav:i.controlsContainer?(e(i.controlsContainer).append(t),i.directionNav=e("."+r+"direction-nav li a",i.controlsContainer)):(i.append(t),i.directionNav=e("."+r+"direction-nav li a",i)),g.directionNav.update(),i.directionNav.bind(c,function(t){var a;t.preventDefault(),""!==d&&d!==t.type||(a=e(this).hasClass(r+"next")?i.getTarget("next"):i.getTarget("prev"),i.flexAnimate(a,i.vars.pauseOnAction)),""===d&&(d=t.type),g.setToClearWatchedEvent()})},update:function(){var e=r+"disabled";1===i.pagingCount?i.directionNav.addClass(e).attr("tabindex","-1"):i.vars.animationLoop?i.directionNav.removeClass(e).removeAttr("tabindex"):0===i.animatingTo?i.directionNav.removeClass(e).filter("."+r+"prev").addClass(e).attr("tabindex","-1"):i.animatingTo===i.last?i.directionNav.removeClass(e).filter("."+r+"next").addClass(e).attr("tabindex","-1"):i.directionNav.removeClass(e).removeAttr("tabindex")}},pausePlay:{setup:function(){var t=e('<div class="'+r+'pauseplay"><a href="#"></a></div>');i.controlsContainer?(i.controlsContainer.append(t),i.pausePlay=e("."+r+"pauseplay a",i.controlsContainer)):(i.append(t),i.pausePlay=e("."+r+"pauseplay a",i)),g.pausePlay.update(i.vars.slideshow?r+"pause":r+"play"),i.pausePlay.bind(c,function(t){t.preventDefault(),""!==d&&d!==t.type||(e(this).hasClass(r+"pause")?(i.manualPause=!0,i.manualPlay=!1,i.pause()):(i.manualPause=!1,i.manualPlay=!0,i.play())),""===d&&(d=t.type),g.setToClearWatchedEvent()})},update:function(e){"play"===e?i.pausePlay.removeClass(r+"pause").addClass(r+"play").html(i.vars.playText):i.pausePlay.removeClass(r+"play").addClass(r+"pause").html(i.vars.pauseText)}},touch:function(){var e,t,n,s,r,l,c,d,f,g=!1,h=0,S=0,y=0;if(o){a.style.msTouchAction="none",a._gesture=new MSGesture,a._gesture.target=a,a.addEventListener("MSPointerDown",function(e){e.stopPropagation(),i.animating?e.preventDefault():(i.pause(),a._gesture.addPointer(e.pointerId),y=0,s=u?i.h:i.w,l=Number(new Date),n=p&&v&&i.animatingTo===i.last?0:p&&v?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:p&&i.currentSlide===i.last?i.limit:p?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:v?(i.last-i.currentSlide+i.cloneOffset)*s:(i.currentSlide+i.cloneOffset)*s)},!1),a._slider=i,a.addEventListener("MSGestureChange",function(e){e.stopPropagation();var t=e.target._slider;if(t){var i=-e.translationX,o=-e.translationY;r=y+=u?o:i,g=u?Math.abs(y)<Math.abs(-i):Math.abs(y)<Math.abs(-o),e.detail!==e.MSGESTURE_FLAG_INERTIA?(!g||Number(new Date)-l>500)&&(e.preventDefault(),!m&&t.transitions&&(t.vars.animationLoop||(r=y/(0===t.currentSlide&&y<0||t.currentSlide===t.last&&y>0?Math.abs(y)/s+2:1)),t.setProps(n+r,"setTouch"))):setImmediate(function(){a._gesture.stop()})}},!1),a.addEventListener("MSGestureEnd",function(a){a.stopPropagation();var i=a.target._slider;if(i){if(i.animatingTo===i.currentSlide&&!g&&null!==r){var o=v?-r:r,c=o>0?i.getTarget("next"):i.getTarget("prev");i.canAdvance(c)&&(Number(new Date)-l<550&&Math.abs(o)>50||Math.abs(o)>s/2)?i.flexAnimate(c,i.vars.pauseOnAction):m||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}e=null,t=null,r=null,n=null,y=0}},!1)}else c=function(r){i.animating?r.preventDefault():(window.navigator.msPointerEnabled||1===r.touches.length)&&(i.pause(),s=u?i.h:i.w,l=Number(new Date),h=r.touches[0].pageX,S=r.touches[0].pageY,n=p&&v&&i.animatingTo===i.last?0:p&&v?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:p&&i.currentSlide===i.last?i.limit:p?(i.itemW+i.vars.itemMargin)*i.move*i.currentSlide:v?(i.last-i.currentSlide+i.cloneOffset)*s:(i.currentSlide+i.cloneOffset)*s,e=u?S:h,t=u?h:S,a.addEventListener("touchmove",d,!1),a.addEventListener("touchend",f,!1))},d=function(a){h=a.touches[0].pageX,S=a.touches[0].pageY,r=u?e-S:e-h;(!(g=u?Math.abs(r)<Math.abs(h-t):Math.abs(r)<Math.abs(S-t))||Number(new Date)-l>500)&&(a.preventDefault(),!m&&i.transitions&&(i.vars.animationLoop||(r/=0===i.currentSlide&&r<0||i.currentSlide===i.last&&r>0?Math.abs(r)/s+2:1),i.setProps(n+r,"setTouch")))},f=function(o){if(a.removeEventListener("touchmove",d,!1),i.animatingTo===i.currentSlide&&!g&&null!==r){var c=v?-r:r,u=c>0?i.getTarget("next"):i.getTarget("prev");i.canAdvance(u)&&(Number(new Date)-l<550&&Math.abs(c)>50||Math.abs(c)>s/2)?i.flexAnimate(u,i.vars.pauseOnAction):m||i.flexAnimate(i.currentSlide,i.vars.pauseOnAction,!0)}a.removeEventListener("touchend",f,!1),e=null,t=null,r=null,n=null},a.addEventListener("touchstart",c,!1)},resize:function(){!i.animating&&i.is(":visible")&&(p||i.doMath(),m?g.smoothHeight():p?(i.slides.width(i.computedW),i.update(i.pagingCount),i.setProps()):u?(i.viewport.height(i.h),i.setProps(i.h,"setTotal")):(i.vars.smoothHeight&&g.smoothHeight(),i.newSlides.width(i.computedW),i.setProps(i.computedW,"setTotal")))},smoothHeight:function(e){if(!u||m){var t=m?i:i.viewport;e?t.animate({height:i.slides.eq(i.animatingTo).innerHeight()},e):t.innerHeight(i.slides.eq(i.animatingTo).innerHeight())}},sync:function(t){var a=e(i.vars.sync).data("flexslider"),n=i.animatingTo;switch(t){case"animate":a.flexAnimate(n,i.vars.pauseOnAction,!1,!0);break;case"play":a.playing||a.asNav||a.play();break;case"pause":a.pause()}},uniqueID:function(t){return t.filter("[id]").add(t.find("[id]")).each(function(){var t=e(this);t.attr("id",t.attr("id")+"_clone")}),t},pauseInvisible:{visProp:null,init:function(){var e=g.pauseInvisible.getHiddenProp();if(e){var t=e.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(t,function(){g.pauseInvisible.isHidden()?i.startTimeout?clearTimeout(i.startTimeout):i.pause():i.started?i.play():i.vars.initDelay>0?setTimeout(i.play,i.vars.initDelay):i.play()})}},isHidden:function(){var e=g.pauseInvisible.getHiddenProp();return!!e&&document[e]},getHiddenProp:function(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(s),s=setTimeout(function(){d=""},3e3)}},i.flexAnimate=function(t,a,n,s,o){if(i.vars.animationLoop||t===i.currentSlide||(i.direction=t>i.currentSlide?"next":"prev"),f&&1===i.pagingCount&&(i.direction=i.currentItem<t?"next":"prev"),!i.animating&&(i.canAdvance(t,o)||n)&&i.is(":visible")){if(f&&s){var c=e(i.vars.asNavFor).data("flexslider");if(i.atEnd=0===t||t===i.count-1,c.flexAnimate(t,!0,!1,!0,o),i.direction=i.currentItem<t?"next":"prev",c.direction=i.direction,Math.ceil((t+1)/i.visible)-1===i.currentSlide||0===t)return i.currentItem=t,i.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),!1;i.currentItem=t,i.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),t=Math.floor(t/i.visible)}if(i.animating=!0,i.animatingTo=t,a&&i.pause(),i.vars.before(i),i.syncExists&&!o&&g.sync("animate"),i.vars.controlNav&&g.controlNav.active(),p||i.slides.removeClass(r+"active-slide").eq(t).addClass(r+"active-slide"),i.atEnd=0===t||t===i.last,i.vars.directionNav&&g.directionNav.update(),t===i.last&&(i.vars.end(i),i.vars.animationLoop||i.pause()),m)l?(i.slides.eq(i.currentSlide).css({opacity:0,zIndex:1}),i.slides.eq(t).css({opacity:1,zIndex:2}),i.wrapup(y)):(i.slides.eq(i.currentSlide).css({zIndex:1}).animate({opacity:0},i.vars.animationSpeed,i.vars.easing),i.slides.eq(t).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing,i.wrapup));else{var d,h,S,y=u?i.slides.filter(":first").height():i.computedW;p?(d=i.vars.itemMargin,h=(S=(i.itemW+d)*i.move*i.animatingTo)>i.limit&&1!==i.visible?i.limit:S):h=0===i.currentSlide&&t===i.count-1&&i.vars.animationLoop&&"next"!==i.direction?v?(i.count+i.cloneOffset)*y:0:i.currentSlide===i.last&&0===t&&i.vars.animationLoop&&"prev"!==i.direction?v?0:(i.count+1)*y:v?(i.count-1-t+i.cloneOffset)*y:(t+i.cloneOffset)*y,i.setProps(h,"",i.vars.animationSpeed),i.transitions?(i.vars.animationLoop&&i.atEnd||(i.animating=!1,i.currentSlide=i.animatingTo),i.container.unbind("webkitTransitionEnd transitionend"),i.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(i.ensureAnimationEnd),i.wrapup(y)}),clearTimeout(i.ensureAnimationEnd),i.ensureAnimationEnd=setTimeout(function(){i.wrapup(y)},i.vars.animationSpeed+100)):i.container.animate(i.args,i.vars.animationSpeed,i.vars.easing,function(){i.wrapup(y)})}i.vars.smoothHeight&&g.smoothHeight(i.vars.animationSpeed)}},i.wrapup=function(e){m||p||(0===i.currentSlide&&i.animatingTo===i.last&&i.vars.animationLoop?i.setProps(e,"jumpEnd"):i.currentSlide===i.last&&0===i.animatingTo&&i.vars.animationLoop&&i.setProps(e,"jumpStart")),i.animating=!1,i.currentSlide=i.animatingTo,i.vars.after(i)},i.animateSlides=function(){!i.animating&&t&&i.flexAnimate(i.getTarget("next"))},i.pause=function(){clearInterval(i.animatedSlides),i.animatedSlides=null,i.playing=!1,i.vars.pausePlay&&g.pausePlay.update("play"),i.syncExists&&g.sync("pause")},i.play=function(){i.playing&&clearInterval(i.animatedSlides),i.animatedSlides=i.animatedSlides||setInterval(i.animateSlides,i.vars.slideshowSpeed),i.started=i.playing=!0,i.vars.pausePlay&&g.pausePlay.update("pause"),i.syncExists&&g.sync("play")},i.stop=function(){i.pause(),i.stopped=!0},i.canAdvance=function(e,t){var a=f?i.pagingCount-1:i.last;return!!t||(!(!f||i.currentItem!==i.count-1||0!==e||"prev"!==i.direction)||(!f||0!==i.currentItem||e!==i.pagingCount-1||"next"===i.direction)&&(!(e===i.currentSlide&&!f)&&(!!i.vars.animationLoop||(!i.atEnd||0!==i.currentSlide||e!==a||"next"===i.direction)&&(!i.atEnd||i.currentSlide!==a||0!==e||"next"!==i.direction))))},i.getTarget=function(e){return i.direction=e,"next"===e?i.currentSlide===i.last?0:i.currentSlide+1:0===i.currentSlide?i.last:i.currentSlide-1},i.setProps=function(e,t,a){var n,s=(n=e||(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo,-1*function(){if(p)return"setTouch"===t?e:v&&i.animatingTo===i.last?0:v?i.limit-(i.itemW+i.vars.itemMargin)*i.move*i.animatingTo:i.animatingTo===i.last?i.limit:n;switch(t){case"setTotal":return v?(i.count-1-i.currentSlide+i.cloneOffset)*e:(i.currentSlide+i.cloneOffset)*e;case"setTouch":return e;case"jumpEnd":return v?e:i.count*e;case"jumpStart":return v?i.count*e:e;default:return e}}()+"px");i.transitions&&(s=u?"translate3d(0,"+s+",0)":"translate3d("+s+",0,0)",a=void 0!==a?a/1e3+"s":"0s",i.container.css("-"+i.pfx+"-transition-duration",a),i.container.css("transition-duration",a)),i.args[i.prop]=s,(i.transitions||void 0===a)&&i.container.css(i.args),i.container.css("transform",s)},i.setup=function(t){var a,n;m?(i.slides.css({width:"100%",float:"left",marginRight:"-100%",position:"relative"}),"init"===t&&(l?i.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+i.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(i.currentSlide).css({opacity:1,zIndex:2}):0==i.vars.fadeFirstSlide?i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).css({opacity:1}):i.slides.css({opacity:0,display:"block",zIndex:1}).eq(i.currentSlide).css({zIndex:2}).animate({opacity:1},i.vars.animationSpeed,i.vars.easing)),i.vars.smoothHeight&&g.smoothHeight()):("init"===t&&(i.viewport=e('<div class="'+r+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(i).append(i.container),i.cloneCount=0,i.cloneOffset=0,v&&(n=e.makeArray(i.slides).reverse(),i.slides=e(n),i.container.empty().append(i.slides))),i.vars.animationLoop&&!p&&(i.cloneCount=2,i.cloneOffset=1,"init"!==t&&i.container.find(".clone").remove(),i.container.append(g.uniqueID(i.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(g.uniqueID(i.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),i.newSlides=e(i.vars.selector,i),a=v?i.count-1-i.currentSlide+i.cloneOffset:i.currentSlide+i.cloneOffset,u&&!p?(i.container.height(200*(i.count+i.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){i.newSlides.css({display:"block"}),i.doMath(),i.viewport.height(i.h),i.setProps(a*i.h,"init")},"init"===t?100:0)):(i.container.width(200*(i.count+i.cloneCount)+"%"),i.setProps(a*i.computedW,"init"),setTimeout(function(){i.doMath(),i.newSlides.css({width:i.computedW,marginRight:i.computedM,float:"left",display:"block"}),i.vars.smoothHeight&&g.smoothHeight()},"init"===t?100:0)));p||i.slides.removeClass(r+"active-slide").eq(i.currentSlide).addClass(r+"active-slide"),i.vars.init(i)},i.doMath=function(){var e=i.slides.first(),t=i.vars.itemMargin,a=i.vars.minItems,n=i.vars.maxItems;i.w=void 0===i.viewport?i.width():i.viewport.width(),i.h=e.height(),i.boxPadding=e.outerWidth()-e.width(),p?(i.itemT=i.vars.itemWidth+t,i.itemM=t,i.minW=a?a*i.itemT:i.w,i.maxW=n?n*i.itemT-t:i.w,i.itemW=i.minW>i.w?(i.w-t*(a-1))/a:i.maxW<i.w?(i.w-t*(n-1))/n:i.vars.itemWidth>i.w?i.w:i.vars.itemWidth,i.visible=Math.floor(i.w/i.itemW),i.move=i.vars.move>0&&i.vars.move<i.visible?i.vars.move:i.visible,i.pagingCount=Math.ceil((i.count-i.visible)/i.move+1),i.last=i.pagingCount-1,i.limit=1===i.pagingCount?0:i.vars.itemWidth>i.w?i.itemW*(i.count-1)+t*(i.count-1):(i.itemW+t)*i.count-i.w-t):(i.itemW=i.w,i.itemM=t,i.pagingCount=i.count,i.last=i.count-1),i.computedW=i.itemW-i.boxPadding,i.computedM=i.itemM},i.update=function(e,t){i.doMath(),p||(e<i.currentSlide?i.currentSlide+=1:e<=i.currentSlide&&0!==e&&(i.currentSlide-=1),i.animatingTo=i.currentSlide),i.vars.controlNav&&!i.manualControls&&("add"===t&&!p||i.pagingCount>i.controlNav.length?g.controlNav.update("add"):("remove"===t&&!p||i.pagingCount<i.controlNav.length)&&(p&&i.currentSlide>i.last&&(i.currentSlide-=1,i.animatingTo-=1),g.controlNav.update("remove",i.last))),i.vars.directionNav&&g.directionNav.update()},i.addSlide=function(t,a){var n=e(t);i.count+=1,i.last=i.count-1,u&&v?void 0!==a?i.slides.eq(i.count-a).after(n):i.container.prepend(n):void 0!==a?i.slides.eq(a).before(n):i.container.append(n),i.update(a,"add"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.added(i)},i.removeSlide=function(t){var a=isNaN(t)?i.slides.index(e(t)):t;i.count-=1,i.last=i.count-1,isNaN(t)?e(t,i.slides).remove():u&&v?i.slides.eq(i.last).remove():i.slides.eq(t).remove(),i.doMath(),i.update(a,"remove"),i.slides=e(i.vars.selector+":not(.clone)",i),i.setup(),i.vars.removed(i)},g.init()},e(window).blur(function(e){t=!1}).focus(function(e){t=!0}),e.flexslider.defaults={namespace:"flex-",selector:".slides > li",animation:"fade",easing:"swing",direction:"horizontal",reverse:!1,animationLoop:!0,smoothHeight:!1,startAt:0,slideshow:!0,slideshowSpeed:7e3,animationSpeed:600,initDelay:0,randomize:!1,fadeFirstSlide:!0,thumbCaptions:!1,pauseOnAction:!0,pauseOnHover:!1,pauseInvisible:!0,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"Previous",nextText:"Next",keyboard:!0,multipleKeyboard:!1,mousewheel:!1,pausePlay:!1,pauseText:"Pause",playText:"Play",controlsContainer:"",manualControls:"",customDirectionNav:"",sync:"",asNavFor:"",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,move:0,allowOneSlide:!0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},e.fn.flexslider=function(t){if(void 0===t&&(t={}),"object"===(void 0===t?"undefined":_typeof(t)))return this.each(function(){var a=e(this),n=t.selector?t.selector:".slides > li",i=a.find(n);1===i.length&&!1===t.allowOneSlide||0===i.length?(i.fadeIn(400),t.start&&t.start(a)):void 0===a.data("flexslider")&&new e.flexslider(this,t)});var a=e(this).data("flexslider");switch(t){case"play":a.play();break;case"pause":a.pause();break;case"stop":a.stop();break;case"next":a.flexAnimate(a.getTarget("next"),!0);break;case"prev":case"previous":a.flexAnimate(a.getTarget("prev"),!0);break;default:"number"==typeof t&&a.flexAnimate(t,!0)}}}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5mbGV4c2xpZGVyLmpzIl0sIm5hbWVzIjpbIiQiLCJmb2N1c2VkIiwiZmxleHNsaWRlciIsImVsIiwib3B0aW9ucyIsImV4dGVuZCIsImRlZmF1bHRzIiwidG91Y2giLCJuYW1lc3BhY2UiLCJzbGlkZXIiLCJ2YXJzIiwibXNHZXN0dXJlIiwid2luZG93IiwibmF2aWdhdG9yIiwibXNQb2ludGVyRW5hYmxlZCIsIk1TR2VzdHVyZSIsIkRvY3VtZW50VG91Y2giLCJkb2N1bWVudCIsInZlcnRpY2FsIiwiZGlyZWN0aW9uIiwicmV2ZXJzZSIsImV2ZW50VHlwZSIsIml0ZW1XaWR0aCIsIndhdGNoZWRFdmVudCIsImFuaW1hdGlvbiIsIndhdGNoZWRFdmVudENsZWFyVGltZXIiLCJkYXRhIiwiZmFkZSIsIm1ldGhvZHMiLCJpbml0IiwiYW5pbWF0aW5nIiwiY3VycmVudFNsaWRlIiwicGFyc2VJbnQiLCJzdGFydEF0IiwiYW5pbWF0aW5nVG8iLCJsYXN0IiwiY29udGFpbmVyU2VsZWN0b3IiLCJzZWxlY3RvciIsInN1YnN0ciIsInNlYXJjaCIsImlzTmFOIiwic2xpZGVzIiwibGVuZ3RoIiwiY29udGFpbmVyIiwibWFudWFsUGF1c2UiLCJzeW5jRXhpc3RzIiwicHJvcCIsInZpZGVvIiwidXNlQ1NTIiwiY3JlYXRlRWxlbWVudCIsInByb3BzIiwidW5kZWZpbmVkIiwic3RvcHBlZCIsImkiLCJwZngiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJzdGFydGVkIiwic3RhcnRUaW1lb3V0Iiwib2JqIiwiZW5zdXJlQW5pbWF0aW9uRW5kIiwiY29udHJvbHNDb250YWluZXIiLCJtYW51YWxDb250cm9scyIsImN1c3RvbURpcmVjdGlvbk5hdiIsInJhbmRvbWl6ZSIsImVtcHR5IiwiYXBwZW5kIiwiZG9NYXRoIiwic2V0dXAiLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJjb250cm9sTmF2IiwiZGlyZWN0aW9uTmF2Iiwia2V5Ym9hcmQiLCJtdWx0aXBsZUtleWJvYXJkIiwiYmluZCIsImV2ZW50Iiwia2V5Q29kZSIsImtleWNvZGUiLCJ0YXJnZXQiLCJnZXRUYXJnZXQiLCJwYXVzZU9uQWN0aW9uIiwiZGVsdGEiLCJkZWx0YVgiLCJkZWx0YVkiLCJwcmV2ZW50RGVmYXVsdCIsImZsZXhBbmltYXRlIiwic2xpZGVzaG93IiwicGF1c2VJbnZpc2libGUiLCJwYXVzZSIsIm1hbnVhbFBsYXkiLCJwbGF5IiwiaXNIaWRkZW4iLCJpbml0RGVsYXkiLCJzZXRUaW1lb3V0IiwiYXNOYXYiLCJwYXVzZU9uSG92ZXIiLCJzbW9vdGhIZWlnaHQiLCJyZXNpemUiLCJmaW5kIiwiYXR0ciIsInN0YXJ0IiwiZmxvb3IiLCJtb3ZlIiwiY3VycmVudEl0ZW0iLCJyZW1vdmVDbGFzcyIsImVxIiwiYWRkQ2xhc3MiLCJfc2xpZGVyIiwidGhhdCIsInRoaXMiLCJfZ2VzdHVyZSIsImUiLCJjdXJyZW50VGFyZ2V0IiwiYWRkUG9pbnRlciIsInBvaW50ZXJJZCIsIiRzbGlkZSIsImluZGV4Iiwib24iLCJhc05hdkZvciIsImhhc0NsYXNzIiwib2Zmc2V0IiwibGVmdCIsInNjcm9sbExlZnQiLCJzZXR1cE1hbnVhbCIsInNldHVwUGFnaW5nIiwiaXRlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250cm9sTmF2U2NhZmZvbGQiLCJ0eXBlIiwicGFnaW5nQ291bnQiLCJzbGlkZSIsImFsdFRleHQiLCJqIiwidGh1bWJDYXB0aW9ucyIsImNhcHRuIiwic2V0IiwiYWN0aXZlIiwiZGVsZWdhdGUiLCIkdGhpcyIsInNldFRvQ2xlYXJXYXRjaGVkRXZlbnQiLCJ1cGRhdGUiLCJhY3Rpb24iLCJwb3MiLCJjb3VudCIsInJlbW92ZSIsImNsb3Nlc3QiLCJwcmV2VGV4dCIsIm5leHRUZXh0IiwiZGlyZWN0aW9uTmF2U2NhZmZvbGQiLCJkaXNhYmxlZENsYXNzIiwicmVtb3ZlQXR0ciIsImZpbHRlciIsInBhdXNlUGxheVNjYWZmb2xkIiwicGF1c2VQbGF5IiwiYW5pbWF0aW9uTG9vcCIsImh0bWwiLCJwbGF5VGV4dCIsInBhdXNlVGV4dCIsInN0YXJ0WSIsImR4Iiwib25Ub3VjaE1vdmUiLCJvblRvdWNoRW5kIiwic2Nyb2xsaW5nIiwic3R5bGUiLCJtc1RvdWNoQWN0aW9uIiwidXBkYXRlRHgiLCJhY2NEeCIsInN0YXJ0VCIsIk51bWJlciIsIkRhdGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY2Fyb3VzZWwiLCJsaW1pdCIsIml0ZW1XIiwiaXRlbU1hcmdpbiIsImNsb25lT2Zmc2V0IiwiY3dpZHRoIiwic3RvcFByb3BhZ2F0aW9uIiwib25NU1BvaW50ZXJEb3duIiwidHJhbnNYIiwidHJhbnNsYXRpb25YIiwidHJhbnNsYXRpb25ZIiwiYWJzIiwidHJhbnNZIiwidHJhbnNpdGlvbnMiLCJzZXRJbW1lZGlhdGUiLCJzdG9wIiwic2V0UHJvcHMiLCJzdGFydFgiLCJvbk1TR2VzdHVyZUVuZCIsInRvdWNoZXMiLCJoIiwidyIsImxvY2FsWCIsInBhZ2VYIiwibG9jYWxZIiwic3RhdGUiLCJwYWdlWSIsIm9uVG91Y2hTdGFydCIsImNhbkFkdmFuY2UiLCJpcyIsIndpZHRoIiwiY29tcHV0ZWRXIiwiaGVpZ2h0IiwibmV3U2xpZGVzIiwiZHVyIiwiJG9iaiIsImFuaW1hdGUiLCJpbm5lckhlaWdodCIsInN5bmMiLCJwbGF5aW5nIiwiJGNsb25lIiwiYWRkIiwiZWFjaCIsInZpc1Byb3AiLCJnZXRIaWRkZW5Qcm9wIiwiZXZ0bmFtZSIsInVuaXF1ZUlEIiwicHJlZml4ZXMiLCJjbGVhclRpbWVvdXQiLCJvdmVycmlkZSIsIndpdGhTeW5jIiwiZnJvbU5hdiIsIm1hc3RlciIsImNlaWwiLCJ2aXNpYmxlIiwiYmVmb3JlIiwiY3NzIiwib3BhY2l0eSIsInpJbmRleCIsIndyYXB1cCIsImRpbWVuc2lvbiIsImFuaW1hdGlvblNwZWVkIiwiZWFzaW5nIiwibWFyZ2luIiwic2xpZGVTdHJpbmciLCJjYWxjTmV4dCIsImF0RW5kIiwidW5iaW5kIiwiYXJncyIsImNsZWFySW50ZXJ2YWwiLCJhbmltYXRlZFNsaWRlcyIsInNsaWRlc2hvd1NwZWVkIiwiZGlyIiwic3BlY2lhbCIsInBvc0NoZWNrIiwiYW5pbWF0ZVNsaWRlcyIsImFyciIsImZsb2F0IiwibWFyZ2luUmlnaHQiLCJwb3NpdGlvbiIsImRpc3BsYXkiLCJ3ZWJraXRUcmFuc2l0aW9uIiwiZmFkZUZpcnN0U2xpZGUiLCJ2aWV3cG9ydCIsIm92ZXJmbG93IiwiYXBwZW5kVG8iLCJjbG9uZUNvdW50IiwibWFrZUFycmF5IiwiZmlyc3QiLCJjbG9uZSIsInByZXBlbmQiLCJzbGlkZXJPZmZzZXQiLCJjb21wdXRlZE0iLCJtYXhJdGVtcyIsIm91dGVyV2lkdGgiLCJpdGVtTSIsInNsaWRlTWFyZ2luIiwibWF4VyIsIml0ZW1UIiwibWluSXRlbXMiLCJib3hQYWRkaW5nIiwiYWRkU2xpZGUiLCJhZnRlciIsInJlbW92ZWQiLCJmb2N1cyIsInJlbW92ZVNsaWRlIiwibW91c2V3aGVlbCIsImVuZCIsImFkZGVkIiwiYmx1ciIsImZuIiwiYWxsb3dPbmVTbGlkZSIsIiRzbGlkZXMiLCJmYWRlSW4iLCIkc2xpZGVyIl0sIm1hcHBpbmdzIjoib09BTUEsU0FBV0EsR0FFVCxJQUFJQyxHQUFVLEVBR2RELEVBQUVFLFdBQWEsU0FBU0MsRUFBSUMsR0FINUIsSUFBSUgsRUFBVUQsRUFBQUcsR0FHWkQsRUFBQUEsS0FBYUYsRUFBQUssVUFBYUQsRUFBQUEsV0FBU0UsU0FBQUYsR0FNbkMsSUFFSUcsRUFGQUMsRUFBWUMsRUFBT0MsS0FBS0YsVUFINUJHLEVBQUFDLE9BQUFDLFdBQUFELE9BQUFDLFVBQUFDLGtCQUFBRixPQUFBRyxVQUNBTixHQUFjVCxpQkFBZUUsUUFBV0ksR0FBeENNLE9BQUFJLGVBQUFDLG9CQUFBRCxnQkFBQVAsRUFBQUMsS0FBQUgsTUFFSUMsRUFBWUMsbUNBQ1pFLEVBQVlDLEdBTVpNLEVBQXFDLGFBQTFCVCxFQUFPQyxLQUFLUyxVQUp2QkMsRUFBQVgsRUFBQUMsS0FBQVUsUUFDQUMsRUFBWVosRUFBQUMsS0FBQVksVUFBQSxFQUNaQyxF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QUFrQm5HLE9BQUEsTUFDaENuRyxJQUFBQSxPQUFnQnNNLEVBQVV4TSxZQUFBd00sRUFBQTlNLFVBQUEsU0FBQSxHQUFBLE1BQzFCakMsSUFBUSxPQUNSekMsSUFBTyxXQUF5QndSLEVBQUF4TSxZQUFBd00sRUFBQTlNLFVBQUEsU0FBQSxHQUFBLE1BQ2hDbEMsUUFBZ0MsaUJBQUEzQyxHQUFBMlIsRUFBQXhNLFlBQUFuRixHQUFBLEtBeGxDcEMsQ0E0bENJcUUiLCJmaWxlIjoianF1ZXJ5LmZsZXhzbGlkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogalF1ZXJ5IEZsZXhTbGlkZXIgdjIuNi40XG4gKiBDb3B5cmlnaHQgMjAxMiBXb29UaGVtZXNcbiAqIENvbnRyaWJ1dGluZyBBdXRob3I6IFR5bGVyIFNtaXRoXG4gKi9cbjtcbihmdW5jdGlvbiAoJCkge1xuXG4gIHZhciBmb2N1c2VkID0gdHJ1ZTtcblxuICAvL0ZsZXhTbGlkZXI6IE9iamVjdCBJbnN0YW5jZVxuICAkLmZsZXhzbGlkZXIgPSBmdW5jdGlvbihlbCwgb3B0aW9ucykge1xuICAgIHZhciBzbGlkZXIgPSAkKGVsKTtcblxuICAgIC8vIG1ha2luZyB2YXJpYWJsZXMgcHVibGljXG4gICAgc2xpZGVyLnZhcnMgPSAkLmV4dGVuZCh7fSwgJC5mbGV4c2xpZGVyLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgIHZhciBuYW1lc3BhY2UgPSBzbGlkZXIudmFycy5uYW1lc3BhY2UsXG4gICAgICAgIG1zR2VzdHVyZSA9IHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkICYmIHdpbmRvdy5NU0dlc3R1cmUsXG4gICAgICAgIHRvdWNoID0gKCggXCJvbnRvdWNoc3RhcnRcIiBpbiB3aW5kb3cgKSB8fCBtc0dlc3R1cmUgfHwgd2luZG93LkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiBEb2N1bWVudFRvdWNoKSAmJiBzbGlkZXIudmFycy50b3VjaCxcbiAgICAgICAgLy8gZGVwcmVjYXRpbmcgdGhpcyBpZGVhLCBhcyBkZXZpY2VzIGFyZSBiZWluZyByZWxlYXNlZCB3aXRoIGJvdGggb2YgdGhlc2UgZXZlbnRzXG4gICAgICAgIGV2ZW50VHlwZSA9IFwiY2xpY2sgdG91Y2hlbmQgTVNQb2ludGVyVXAga2V5dXBcIixcbiAgICAgICAgd2F0Y2hlZEV2ZW50ID0gXCJcIixcbiAgICAgICAgd2F0Y2hlZEV2ZW50Q2xlYXJUaW1lcixcbiAgICAgICAgdmVydGljYWwgPSBzbGlkZXIudmFycy5kaXJlY3Rpb24gPT09IFwidmVydGljYWxcIixcbiAgICAgICAgcmV2ZXJzZSA9IHNsaWRlci52YXJzLnJldmVyc2UsXG4gICAgICAgIGNhcm91c2VsID0gKHNsaWRlci52YXJzLml0ZW1XaWR0aCA+IDApLFxuICAgICAgICBmYWRlID0gc2xpZGVyLnZhcnMuYW5pbWF0aW9uID09PSBcImZhZGVcIixcbiAgICAgICAgYXNOYXYgPSBzbGlkZXIudmFycy5hc05hdkZvciAhPT0gXCJcIixcbiAgICAgICAgbWV0aG9kcyA9IHt9O1xuXG4gICAgLy8gU3RvcmUgYSByZWZlcmVuY2UgdG8gdGhlIHNsaWRlciBvYmplY3RcbiAgICAkLmRhdGEoZWwsIFwiZmxleHNsaWRlclwiLCBzbGlkZXIpO1xuXG4gICAgLy8gUHJpdmF0ZSBzbGlkZXIgbWV0aG9kc1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgc2xpZGVyLmFuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAvLyBHZXQgY3VycmVudCBzbGlkZSBhbmQgbWFrZSBzdXJlIGl0IGlzIGEgbnVtYmVyXG4gICAgICAgIHNsaWRlci5jdXJyZW50U2xpZGUgPSBwYXJzZUludCggKCBzbGlkZXIudmFycy5zdGFydEF0ID8gc2xpZGVyLnZhcnMuc3RhcnRBdCA6IDApLCAxMCApO1xuICAgICAgICBpZiAoIGlzTmFOKCBzbGlkZXIuY3VycmVudFNsaWRlICkgKSB7IHNsaWRlci5jdXJyZW50U2xpZGUgPSAwOyB9XG4gICAgICAgIHNsaWRlci5hbmltYXRpbmdUbyA9IHNsaWRlci5jdXJyZW50U2xpZGU7XG4gICAgICAgIHNsaWRlci5hdEVuZCA9IChzbGlkZXIuY3VycmVudFNsaWRlID09PSAwIHx8IHNsaWRlci5jdXJyZW50U2xpZGUgPT09IHNsaWRlci5sYXN0KTtcbiAgICAgICAgc2xpZGVyLmNvbnRhaW5lclNlbGVjdG9yID0gc2xpZGVyLnZhcnMuc2VsZWN0b3Iuc3Vic3RyKDAsc2xpZGVyLnZhcnMuc2VsZWN0b3Iuc2VhcmNoKCcgJykpO1xuICAgICAgICBzbGlkZXIuc2xpZGVzID0gJChzbGlkZXIudmFycy5zZWxlY3Rvciwgc2xpZGVyKTtcbiAgICAgICAgc2xpZGVyLmNvbnRhaW5lciA9ICQoc2xpZGVyLmNvbnRhaW5lclNlbGVjdG9yLCBzbGlkZXIpO1xuICAgICAgICBzbGlkZXIuY291bnQgPSBzbGlkZXIuc2xpZGVzLmxlbmd0aDtcbiAgICAgICAgLy8gU1lOQzpcbiAgICAgICAgc2xpZGVyLnN5bmNFeGlzdHMgPSAkKHNsaWRlci52YXJzLnN5bmMpLmxlbmd0aCA+IDA7XG4gICAgICAgIC8vIFNMSURFOlxuICAgICAgICBpZiAoc2xpZGVyLnZhcnMuYW5pbWF0aW9uID09PSBcInNsaWRlXCIpIHsgc2xpZGVyLnZhcnMuYW5pbWF0aW9uID0gXCJzd2luZ1wiOyB9XG4gICAgICAgIHNsaWRlci5wcm9wID0gKHZlcnRpY2FsKSA/IFwidG9wXCIgOiBcIm1hcmdpbkxlZnRcIjtcbiAgICAgICAgc2xpZGVyLmFyZ3MgPSB7fTtcbiAgICAgICAgLy8gU0xJREVTSE9XOlxuICAgICAgICBzbGlkZXIubWFudWFsUGF1c2UgPSBmYWxzZTtcbiAgICAgICAgc2xpZGVyLnN0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgLy9QQVVTRSBXSEVOIElOVklTSUJMRVxuICAgICAgICBzbGlkZXIuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICBzbGlkZXIuc3RhcnRUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgLy8gVE9VQ0gvVVNFQ1NTOlxuICAgICAgICBzbGlkZXIudHJhbnNpdGlvbnMgPSAhc2xpZGVyLnZhcnMudmlkZW8gJiYgIWZhZGUgJiYgc2xpZGVyLnZhcnMudXNlQ1NTICYmIChmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgb2JqID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICAgIHByb3BzID0gWydwZXJzcGVjdGl2ZVByb3BlcnR5JywgJ1dlYmtpdFBlcnNwZWN0aXZlJywgJ01velBlcnNwZWN0aXZlJywgJ09QZXJzcGVjdGl2ZScsICdtc1BlcnNwZWN0aXZlJ107XG4gICAgICAgICAgZm9yICh2YXIgaSBpbiBwcm9wcykge1xuICAgICAgICAgICAgaWYgKCBvYmouc3R5bGVbIHByb3BzW2ldIF0gIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgICAgc2xpZGVyLnBmeCA9IHByb3BzW2ldLnJlcGxhY2UoJ1BlcnNwZWN0aXZlJywnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgc2xpZGVyLnByb3AgPSBcIi1cIiArIHNsaWRlci5wZnggKyBcIi10cmFuc2Zvcm1cIjtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSgpKTtcbiAgICAgICAgc2xpZGVyLmVuc3VyZUFuaW1hdGlvbkVuZCA9ICcnO1xuICAgICAgICAvLyBDT05UUk9MU0NPTlRBSU5FUjpcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLmNvbnRyb2xzQ29udGFpbmVyICE9PSBcIlwiKSBzbGlkZXIuY29udHJvbHNDb250YWluZXIgPSAkKHNsaWRlci52YXJzLmNvbnRyb2xzQ29udGFpbmVyKS5sZW5ndGggPiAwICYmICQoc2xpZGVyLnZhcnMuY29udHJvbHNDb250YWluZXIpO1xuICAgICAgICAvLyBNQU5VQUw6XG4gICAgICAgIGlmIChzbGlkZXIudmFycy5tYW51YWxDb250cm9scyAhPT0gXCJcIikgc2xpZGVyLm1hbnVhbENvbnRyb2xzID0gJChzbGlkZXIudmFycy5tYW51YWxDb250cm9scykubGVuZ3RoID4gMCAmJiAkKHNsaWRlci52YXJzLm1hbnVhbENvbnRyb2xzKTtcblxuICAgICAgICAvLyBDVVNUT00gRElSRUNUSU9OIE5BVjpcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLmN1c3RvbURpcmVjdGlvbk5hdiAhPT0gXCJcIikgc2xpZGVyLmN1c3RvbURpcmVjdGlvbk5hdiA9ICQoc2xpZGVyLnZhcnMuY3VzdG9tRGlyZWN0aW9uTmF2KS5sZW5ndGggPT09IDIgJiYgJChzbGlkZXIudmFycy5jdXN0b21EaXJlY3Rpb25OYXYpO1xuXG4gICAgICAgIC8vIFJBTkRPTUlaRTpcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLnJhbmRvbWl6ZSkge1xuICAgICAgICAgIHNsaWRlci5zbGlkZXMuc29ydChmdW5jdGlvbigpIHsgcmV0dXJuIChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpLTAuNSk7IH0pO1xuICAgICAgICAgIHNsaWRlci5jb250YWluZXIuZW1wdHkoKS5hcHBlbmQoc2xpZGVyLnNsaWRlcyk7XG4gICAgICAgIH1cblxuICAgICAgICBzbGlkZXIuZG9NYXRoKCk7XG5cbiAgICAgICAgLy8gSU5JVFxuICAgICAgICBzbGlkZXIuc2V0dXAoXCJpbml0XCIpO1xuXG4gICAgICAgIC8vIENPTlRST0xOQVY6XG4gICAgICAgIGlmIChzbGlkZXIudmFycy5jb250cm9sTmF2KSB7IG1ldGhvZHMuY29udHJvbE5hdi5zZXR1cCgpOyB9XG5cbiAgICAgICAgLy8gRElSRUNUSU9OTkFWOlxuICAgICAgICBpZiAoc2xpZGVyLnZhcnMuZGlyZWN0aW9uTmF2KSB7IG1ldGhvZHMuZGlyZWN0aW9uTmF2LnNldHVwKCk7IH1cblxuICAgICAgICAvLyBLRVlCT0FSRDpcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLmtleWJvYXJkICYmICgkKHNsaWRlci5jb250YWluZXJTZWxlY3RvcikubGVuZ3RoID09PSAxIHx8IHNsaWRlci52YXJzLm11bHRpcGxlS2V5Ym9hcmQpKSB7XG4gICAgICAgICAgJChkb2N1bWVudCkuYmluZCgna2V5dXAnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIGtleWNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgICAgICAgICAgaWYgKCFzbGlkZXIuYW5pbWF0aW5nICYmIChrZXljb2RlID09PSAzOSB8fCBrZXljb2RlID09PSAzNykpIHtcbiAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IChrZXljb2RlID09PSAzOSkgPyBzbGlkZXIuZ2V0VGFyZ2V0KCduZXh0JykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgKGtleWNvZGUgPT09IDM3KSA/IHNsaWRlci5nZXRUYXJnZXQoJ3ByZXYnKSA6IGZhbHNlO1xuICAgICAgICAgICAgICBzbGlkZXIuZmxleEFuaW1hdGUodGFyZ2V0LCBzbGlkZXIudmFycy5wYXVzZU9uQWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBNT1VTRVdIRUVMOlxuICAgICAgICBpZiAoc2xpZGVyLnZhcnMubW91c2V3aGVlbCkge1xuICAgICAgICAgIHNsaWRlci5iaW5kKCdtb3VzZXdoZWVsJywgZnVuY3Rpb24oZXZlbnQsIGRlbHRhLCBkZWx0YVgsIGRlbHRhWSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQgPSAoZGVsdGEgPCAwKSA/IHNsaWRlci5nZXRUYXJnZXQoJ25leHQnKSA6IHNsaWRlci5nZXRUYXJnZXQoJ3ByZXYnKTtcbiAgICAgICAgICAgIHNsaWRlci5mbGV4QW5pbWF0ZSh0YXJnZXQsIHNsaWRlci52YXJzLnBhdXNlT25BY3Rpb24pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUEFVU0VQTEFZXG4gICAgICAgIGlmIChzbGlkZXIudmFycy5wYXVzZVBsYXkpIHsgbWV0aG9kcy5wYXVzZVBsYXkuc2V0dXAoKTsgfVxuXG4gICAgICAgIC8vUEFVU0UgV0hFTiBJTlZJU0lCTEVcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLnNsaWRlc2hvdyAmJiBzbGlkZXIudmFycy5wYXVzZUludmlzaWJsZSkgeyBtZXRob2RzLnBhdXNlSW52aXNpYmxlLmluaXQoKTsgfVxuXG4gICAgICAgIC8vIFNMSURTRVNIT1dcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLnNsaWRlc2hvdykge1xuICAgICAgICAgIGlmIChzbGlkZXIudmFycy5wYXVzZU9uSG92ZXIpIHtcbiAgICAgICAgICAgIHNsaWRlci5ob3ZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFzbGlkZXIubWFudWFsUGxheSAmJiAhc2xpZGVyLm1hbnVhbFBhdXNlKSB7IHNsaWRlci5wYXVzZSgpOyB9XG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFzbGlkZXIubWFudWFsUGF1c2UgJiYgIXNsaWRlci5tYW51YWxQbGF5ICYmICFzbGlkZXIuc3RvcHBlZCkgeyBzbGlkZXIucGxheSgpOyB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaW5pdGlhbGl6ZSBhbmltYXRpb25cbiAgICAgICAgICAvL0lmIHdlJ3JlIHZpc2libGUsIG9yIHdlIGRvbid0IHVzZSBQYWdlVmlzaWJpbGl0eSBBUElcbiAgICAgICAgICBpZighc2xpZGVyLnZhcnMucGF1c2VJbnZpc2libGUgfHwgIW1ldGhvZHMucGF1c2VJbnZpc2libGUuaXNIaWRkZW4oKSkge1xuICAgICAgICAgICAgKHNsaWRlci52YXJzLmluaXREZWxheSA+IDApID8gc2xpZGVyLnN0YXJ0VGltZW91dCA9IHNldFRpbWVvdXQoc2xpZGVyLnBsYXksIHNsaWRlci52YXJzLmluaXREZWxheSkgOiBzbGlkZXIucGxheSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFTTkFWOlxuICAgICAgICBpZiAoYXNOYXYpIHsgbWV0aG9kcy5hc05hdi5zZXR1cCgpOyB9XG5cbiAgICAgICAgLy8gVE9VQ0hcbiAgICAgICAgaWYgKHRvdWNoICYmIHNsaWRlci52YXJzLnRvdWNoKSB7IG1ldGhvZHMudG91Y2goKTsgfVxuXG4gICAgICAgIC8vIEZBREUmJlNNT09USEhFSUdIVCB8fCBTTElERTpcbiAgICAgICAgaWYgKCFmYWRlIHx8IChmYWRlICYmIHNsaWRlci52YXJzLnNtb290aEhlaWdodCkpIHsgJCh3aW5kb3cpLmJpbmQoXCJyZXNpemUgb3JpZW50YXRpb25jaGFuZ2UgZm9jdXNcIiwgbWV0aG9kcy5yZXNpemUoKSk7IH1cblxuICAgICAgICBzbGlkZXIuZmluZChcImltZ1wiKS5hdHRyKFwiZHJhZ2dhYmxlXCIsIFwiZmFsc2VcIik7XG5cbiAgICAgICAgLy8gQVBJOiBzdGFydCgpIENhbGxiYWNrXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICBzbGlkZXIudmFycy5zdGFydChzbGlkZXIpO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfSxcbiAgICAgIGFzTmF2OiB7XG4gICAgICAgIHNldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzbGlkZXIuYXNOYXYgPSB0cnVlO1xuICAgICAgICAgIHNsaWRlci5hbmltYXRpbmdUbyA9IE1hdGguZmxvb3Ioc2xpZGVyLmN1cnJlbnRTbGlkZS9zbGlkZXIubW92ZSk7XG4gICAgICAgICAgc2xpZGVyLmN1cnJlbnRJdGVtID0gc2xpZGVyLmN1cnJlbnRTbGlkZTtcbiAgICAgICAgICBzbGlkZXIuc2xpZGVzLnJlbW92ZUNsYXNzKG5hbWVzcGFjZSArIFwiYWN0aXZlLXNsaWRlXCIpLmVxKHNsaWRlci5jdXJyZW50SXRlbSkuYWRkQ2xhc3MobmFtZXNwYWNlICsgXCJhY3RpdmUtc2xpZGVcIik7XG4gICAgICAgICAgaWYoIW1zR2VzdHVyZSl7XG4gICAgICAgICAgICAgIHNsaWRlci5zbGlkZXMub24oZXZlbnRUeXBlLCBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdmFyICRzbGlkZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCA9ICRzbGlkZS5pbmRleCgpO1xuICAgICAgICAgICAgICAgIHZhciBwb3NGcm9tTGVmdCA9ICRzbGlkZS5vZmZzZXQoKS5sZWZ0IC0gJChzbGlkZXIpLnNjcm9sbExlZnQoKTsgLy8gRmluZCBwb3NpdGlvbiBvZiBzbGlkZSByZWxhdGl2ZSB0byBsZWZ0IG9mIHNsaWRlciBjb250YWluZXJcbiAgICAgICAgICAgICAgICBpZiggcG9zRnJvbUxlZnQgPD0gMCAmJiAkc2xpZGUuaGFzQ2xhc3MoIG5hbWVzcGFjZSArICdhY3RpdmUtc2xpZGUnICkgKSB7XG4gICAgICAgICAgICAgICAgICBzbGlkZXIuZmxleEFuaW1hdGUoc2xpZGVyLmdldFRhcmdldChcInByZXZcIiksIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoISQoc2xpZGVyLnZhcnMuYXNOYXZGb3IpLmRhdGEoJ2ZsZXhzbGlkZXInKS5hbmltYXRpbmcgJiYgISRzbGlkZS5oYXNDbGFzcyhuYW1lc3BhY2UgKyBcImFjdGl2ZS1zbGlkZVwiKSkge1xuICAgICAgICAgICAgICAgICAgc2xpZGVyLmRpcmVjdGlvbiA9IChzbGlkZXIuY3VycmVudEl0ZW0gPCB0YXJnZXQpID8gXCJuZXh0XCIgOiBcInByZXZcIjtcbiAgICAgICAgICAgICAgICAgIHNsaWRlci5mbGV4QW5pbWF0ZSh0YXJnZXQsIHNsaWRlci52YXJzLnBhdXNlT25BY3Rpb24sIGZhbHNlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICBlbC5fc2xpZGVyID0gc2xpZGVyO1xuICAgICAgICAgICAgICBzbGlkZXIuc2xpZGVzLmVhY2goZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgICB0aGF0Ll9nZXN0dXJlID0gbmV3IE1TR2VzdHVyZSgpO1xuICAgICAgICAgICAgICAgICAgdGhhdC5fZ2VzdHVyZS50YXJnZXQgPSB0aGF0O1xuICAgICAgICAgICAgICAgICAgdGhhdC5hZGRFdmVudExpc3RlbmVyKFwiTVNQb2ludGVyRG93blwiLCBmdW5jdGlvbiAoZSl7XG4gICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmKGUuY3VycmVudFRhcmdldC5fZ2VzdHVyZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5jdXJyZW50VGFyZ2V0Ll9nZXN0dXJlLmFkZFBvaW50ZXIoZS5wb2ludGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgIHRoYXQuYWRkRXZlbnRMaXN0ZW5lcihcIk1TR2VzdHVyZVRhcFwiLCBmdW5jdGlvbiAoZSl7XG4gICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgIHZhciAkc2xpZGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSAkc2xpZGUuaW5kZXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoISQoc2xpZGVyLnZhcnMuYXNOYXZGb3IpLmRhdGEoJ2ZsZXhzbGlkZXInKS5hbmltYXRpbmcgJiYgISRzbGlkZS5oYXNDbGFzcygnYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLmRpcmVjdGlvbiA9IChzbGlkZXIuY3VycmVudEl0ZW0gPCB0YXJnZXQpID8gXCJuZXh0XCIgOiBcInByZXZcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLmZsZXhBbmltYXRlKHRhcmdldCwgc2xpZGVyLnZhcnMucGF1c2VPbkFjdGlvbiwgZmFsc2UsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb250cm9sTmF2OiB7XG4gICAgICAgIHNldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIXNsaWRlci5tYW51YWxDb250cm9scykge1xuICAgICAgICAgICAgbWV0aG9kcy5jb250cm9sTmF2LnNldHVwUGFnaW5nKCk7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gTUFOVUFMQ09OVFJPTFM6XG4gICAgICAgICAgICBtZXRob2RzLmNvbnRyb2xOYXYuc2V0dXBNYW51YWwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldHVwUGFnaW5nOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdHlwZSA9IChzbGlkZXIudmFycy5jb250cm9sTmF2ID09PSBcInRodW1ibmFpbHNcIikgPyAnY29udHJvbC10aHVtYnMnIDogJ2NvbnRyb2wtcGFnaW5nJyxcbiAgICAgICAgICAgICAgaiA9IDEsXG4gICAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICAgIHNsaWRlO1xuXG4gICAgICAgICAgc2xpZGVyLmNvbnRyb2xOYXZTY2FmZm9sZCA9ICQoJzxvbCBjbGFzcz1cIicrIG5hbWVzcGFjZSArICdjb250cm9sLW5hdiAnICsgbmFtZXNwYWNlICsgdHlwZSArICdcIj48L29sPicpO1xuXG4gICAgICAgICAgaWYgKHNsaWRlci5wYWdpbmdDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVyLnBhZ2luZ0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgICAgc2xpZGUgPSBzbGlkZXIuc2xpZGVzLmVxKGkpO1xuICAgICAgICAgICAgICBpZiAoIHVuZGVmaW5lZCA9PT0gc2xpZGUuYXR0ciggJ2RhdGEtdGh1bWItYWx0JyApICkgeyBzbGlkZS5hdHRyKCAnZGF0YS10aHVtYi1hbHQnLCAnJyApOyB9XG4gICAgICAgICAgICAgIHZhciBhbHRUZXh0ID0gKCAnJyAhPT0gc2xpZGUuYXR0ciggJ2RhdGEtdGh1bWItYWx0JyApICkgPyBhbHRUZXh0ID0gJyBhbHQ9XCInICsgc2xpZGUuYXR0ciggJ2RhdGEtdGh1bWItYWx0JyApICsgJ1wiJyA6ICcnO1xuICAgICAgICAgICAgICBpdGVtID0gKHNsaWRlci52YXJzLmNvbnRyb2xOYXYgPT09IFwidGh1bWJuYWlsc1wiKSA/ICc8aW1nIHNyYz1cIicgKyBzbGlkZS5hdHRyKCAnZGF0YS10aHVtYicgKSArICdcIicgKyBhbHRUZXh0ICsgJy8+JyA6ICc8YSBocmVmPVwiI1wiPicgKyBqICsgJzwvYT4nO1xuICAgICAgICAgICAgICBpZiAoICd0aHVtYm5haWxzJyA9PT0gc2xpZGVyLnZhcnMuY29udHJvbE5hdiAmJiB0cnVlID09PSBzbGlkZXIudmFycy50aHVtYkNhcHRpb25zICkge1xuICAgICAgICAgICAgICAgIHZhciBjYXB0biA9IHNsaWRlLmF0dHIoICdkYXRhLXRodW1iY2FwdGlvbicgKTtcbiAgICAgICAgICAgICAgICBpZiAoICcnICE9PSBjYXB0biAmJiB1bmRlZmluZWQgIT09IGNhcHRuICkgeyBpdGVtICs9ICc8c3BhbiBjbGFzcz1cIicgKyBuYW1lc3BhY2UgKyAnY2FwdGlvblwiPicgKyBjYXB0biArICc8L3NwYW4+JzsgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNsaWRlci5jb250cm9sTmF2U2NhZmZvbGQuYXBwZW5kKCc8bGk+JyArIGl0ZW0gKyAnPC9saT4nKTtcbiAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIENPTlRST0xTQ09OVEFJTkVSOlxuICAgICAgICAgIChzbGlkZXIuY29udHJvbHNDb250YWluZXIpID8gJChzbGlkZXIuY29udHJvbHNDb250YWluZXIpLmFwcGVuZChzbGlkZXIuY29udHJvbE5hdlNjYWZmb2xkKSA6IHNsaWRlci5hcHBlbmQoc2xpZGVyLmNvbnRyb2xOYXZTY2FmZm9sZCk7XG4gICAgICAgICAgbWV0aG9kcy5jb250cm9sTmF2LnNldCgpO1xuXG4gICAgICAgICAgbWV0aG9kcy5jb250cm9sTmF2LmFjdGl2ZSgpO1xuXG4gICAgICAgICAgc2xpZGVyLmNvbnRyb2xOYXZTY2FmZm9sZC5kZWxlZ2F0ZSgnYSwgaW1nJywgZXZlbnRUeXBlLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgaWYgKHdhdGNoZWRFdmVudCA9PT0gXCJcIiB8fCB3YXRjaGVkRXZlbnQgPT09IGV2ZW50LnR5cGUpIHtcbiAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgIHRhcmdldCA9IHNsaWRlci5jb250cm9sTmF2LmluZGV4KCR0aGlzKTtcblxuICAgICAgICAgICAgICBpZiAoISR0aGlzLmhhc0NsYXNzKG5hbWVzcGFjZSArICdhY3RpdmUnKSkge1xuICAgICAgICAgICAgICAgIHNsaWRlci5kaXJlY3Rpb24gPSAodGFyZ2V0ID4gc2xpZGVyLmN1cnJlbnRTbGlkZSkgPyBcIm5leHRcIiA6IFwicHJldlwiO1xuICAgICAgICAgICAgICAgIHNsaWRlci5mbGV4QW5pbWF0ZSh0YXJnZXQsIHNsaWRlci52YXJzLnBhdXNlT25BY3Rpb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNldHVwIGZsYWdzIHRvIHByZXZlbnQgZXZlbnQgZHVwbGljYXRpb25cbiAgICAgICAgICAgIGlmICh3YXRjaGVkRXZlbnQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgd2F0Y2hlZEV2ZW50ID0gZXZlbnQudHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGhvZHMuc2V0VG9DbGVhcldhdGNoZWRFdmVudCgpO1xuXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldHVwTWFudWFsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBzbGlkZXIuY29udHJvbE5hdiA9IHNsaWRlci5tYW51YWxDb250cm9scztcbiAgICAgICAgICBtZXRob2RzLmNvbnRyb2xOYXYuYWN0aXZlKCk7XG5cbiAgICAgICAgICBzbGlkZXIuY29udHJvbE5hdi5iaW5kKGV2ZW50VHlwZSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGlmICh3YXRjaGVkRXZlbnQgPT09IFwiXCIgfHwgd2F0Y2hlZEV2ZW50ID09PSBldmVudC50eXBlKSB7XG4gICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICB0YXJnZXQgPSBzbGlkZXIuY29udHJvbE5hdi5pbmRleCgkdGhpcyk7XG5cbiAgICAgICAgICAgICAgaWYgKCEkdGhpcy5oYXNDbGFzcyhuYW1lc3BhY2UgKyAnYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICAodGFyZ2V0ID4gc2xpZGVyLmN1cnJlbnRTbGlkZSkgPyBzbGlkZXIuZGlyZWN0aW9uID0gXCJuZXh0XCIgOiBzbGlkZXIuZGlyZWN0aW9uID0gXCJwcmV2XCI7XG4gICAgICAgICAgICAgICAgc2xpZGVyLmZsZXhBbmltYXRlKHRhcmdldCwgc2xpZGVyLnZhcnMucGF1c2VPbkFjdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0dXAgZmxhZ3MgdG8gcHJldmVudCBldmVudCBkdXBsaWNhdGlvblxuICAgICAgICAgICAgaWYgKHdhdGNoZWRFdmVudCA9PT0gXCJcIikge1xuICAgICAgICAgICAgICB3YXRjaGVkRXZlbnQgPSBldmVudC50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0aG9kcy5zZXRUb0NsZWFyV2F0Y2hlZEV2ZW50KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdG9yID0gKHNsaWRlci52YXJzLmNvbnRyb2xOYXYgPT09IFwidGh1bWJuYWlsc1wiKSA/ICdpbWcnIDogJ2EnO1xuICAgICAgICAgIHNsaWRlci5jb250cm9sTmF2ID0gJCgnLicgKyBuYW1lc3BhY2UgKyAnY29udHJvbC1uYXYgbGkgJyArIHNlbGVjdG9yLCAoc2xpZGVyLmNvbnRyb2xzQ29udGFpbmVyKSA/IHNsaWRlci5jb250cm9sc0NvbnRhaW5lciA6IHNsaWRlcik7XG4gICAgICAgIH0sXG4gICAgICAgIGFjdGl2ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgc2xpZGVyLmNvbnRyb2xOYXYucmVtb3ZlQ2xhc3MobmFtZXNwYWNlICsgXCJhY3RpdmVcIikuZXEoc2xpZGVyLmFuaW1hdGluZ1RvKS5hZGRDbGFzcyhuYW1lc3BhY2UgKyBcImFjdGl2ZVwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlOiBmdW5jdGlvbihhY3Rpb24sIHBvcykge1xuICAgICAgICAgIGlmIChzbGlkZXIucGFnaW5nQ291bnQgPiAxICYmIGFjdGlvbiA9PT0gXCJhZGRcIikge1xuICAgICAgICAgICAgc2xpZGVyLmNvbnRyb2xOYXZTY2FmZm9sZC5hcHBlbmQoJCgnPGxpPjxhIGhyZWY9XCIjXCI+JyArIHNsaWRlci5jb3VudCArICc8L2E+PC9saT4nKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChzbGlkZXIucGFnaW5nQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHNsaWRlci5jb250cm9sTmF2U2NhZmZvbGQuZmluZCgnbGknKS5yZW1vdmUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2xpZGVyLmNvbnRyb2xOYXYuZXEocG9zKS5jbG9zZXN0KCdsaScpLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtZXRob2RzLmNvbnRyb2xOYXYuc2V0KCk7XG4gICAgICAgICAgKHNsaWRlci5wYWdpbmdDb3VudCA+IDEgJiYgc2xpZGVyLnBhZ2luZ0NvdW50ICE9PSBzbGlkZXIuY29udHJvbE5hdi5sZW5ndGgpID8gc2xpZGVyLnVwZGF0ZShwb3MsIGFjdGlvbikgOiBtZXRob2RzLmNvbnRyb2xOYXYuYWN0aXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkaXJlY3Rpb25OYXY6IHtcbiAgICAgICAgc2V0dXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBkaXJlY3Rpb25OYXZTY2FmZm9sZCA9ICQoJzx1bCBjbGFzcz1cIicgKyBuYW1lc3BhY2UgKyAnZGlyZWN0aW9uLW5hdlwiPjxsaSBjbGFzcz1cIicgKyBuYW1lc3BhY2UgKyAnbmF2LXByZXZcIj48YSBjbGFzcz1cIicgKyBuYW1lc3BhY2UgKyAncHJldlwiIGhyZWY9XCIjXCI+JyArIHNsaWRlci52YXJzLnByZXZUZXh0ICsgJzwvYT48L2xpPjxsaSBjbGFzcz1cIicgKyBuYW1lc3BhY2UgKyAnbmF2LW5leHRcIj48YSBjbGFzcz1cIicgKyBuYW1lc3BhY2UgKyAnbmV4dFwiIGhyZWY9XCIjXCI+JyArIHNsaWRlci52YXJzLm5leHRUZXh0ICsgJzwvYT48L2xpPjwvdWw+Jyk7XG5cbiAgICAgICAgICAvLyBDVVNUT00gRElSRUNUSU9OIE5BVjpcbiAgICAgICAgICBpZiAoc2xpZGVyLmN1c3RvbURpcmVjdGlvbk5hdikge1xuICAgICAgICAgICAgc2xpZGVyLmRpcmVjdGlvbk5hdiA9IHNsaWRlci5jdXN0b21EaXJlY3Rpb25OYXY7XG4gICAgICAgICAgLy8gQ09OVFJPTFNDT05UQUlORVI6XG4gICAgICAgICAgfSBlbHNlIGlmIChzbGlkZXIuY29udHJvbHNDb250YWluZXIpIHtcbiAgICAgICAgICAgICQoc2xpZGVyLmNvbnRyb2xzQ29udGFpbmVyKS5hcHBlbmQoZGlyZWN0aW9uTmF2U2NhZmZvbGQpO1xuICAgICAgICAgICAgc2xpZGVyLmRpcmVjdGlvbk5hdiA9ICQoJy4nICsgbmFtZXNwYWNlICsgJ2RpcmVjdGlvbi1uYXYgbGkgYScsIHNsaWRlci5jb250cm9sc0NvbnRhaW5lcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNsaWRlci5hcHBlbmQoZGlyZWN0aW9uTmF2U2NhZmZvbGQpO1xuICAgICAgICAgICAgc2xpZGVyLmRpcmVjdGlvbk5hdiA9ICQoJy4nICsgbmFtZXNwYWNlICsgJ2RpcmVjdGlvbi1uYXYgbGkgYScsIHNsaWRlcik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWV0aG9kcy5kaXJlY3Rpb25OYXYudXBkYXRlKCk7XG5cbiAgICAgICAgICBzbGlkZXIuZGlyZWN0aW9uTmF2LmJpbmQoZXZlbnRUeXBlLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB0YXJnZXQ7XG5cbiAgICAgICAgICAgIGlmICh3YXRjaGVkRXZlbnQgPT09IFwiXCIgfHwgd2F0Y2hlZEV2ZW50ID09PSBldmVudC50eXBlKSB7XG4gICAgICAgICAgICAgIHRhcmdldCA9ICgkKHRoaXMpLmhhc0NsYXNzKG5hbWVzcGFjZSArICduZXh0JykpID8gc2xpZGVyLmdldFRhcmdldCgnbmV4dCcpIDogc2xpZGVyLmdldFRhcmdldCgncHJldicpO1xuICAgICAgICAgICAgICBzbGlkZXIuZmxleEFuaW1hdGUodGFyZ2V0LCBzbGlkZXIudmFycy5wYXVzZU9uQWN0aW9uKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2V0dXAgZmxhZ3MgdG8gcHJldmVudCBldmVudCBkdXBsaWNhdGlvblxuICAgICAgICAgICAgaWYgKHdhdGNoZWRFdmVudCA9PT0gXCJcIikge1xuICAgICAgICAgICAgICB3YXRjaGVkRXZlbnQgPSBldmVudC50eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWV0aG9kcy5zZXRUb0NsZWFyV2F0Y2hlZEV2ZW50KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGRpc2FibGVkQ2xhc3MgPSBuYW1lc3BhY2UgKyAnZGlzYWJsZWQnO1xuICAgICAgICAgIGlmIChzbGlkZXIucGFnaW5nQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHNsaWRlci5kaXJlY3Rpb25OYXYuYWRkQ2xhc3MoZGlzYWJsZWRDbGFzcykuYXR0cigndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFzbGlkZXIudmFycy5hbmltYXRpb25Mb29wKSB7XG4gICAgICAgICAgICBpZiAoc2xpZGVyLmFuaW1hdGluZ1RvID09PSAwKSB7XG4gICAgICAgICAgICAgIHNsaWRlci5kaXJlY3Rpb25OYXYucmVtb3ZlQ2xhc3MoZGlzYWJsZWRDbGFzcykuZmlsdGVyKCcuJyArIG5hbWVzcGFjZSArIFwicHJldlwiKS5hZGRDbGFzcyhkaXNhYmxlZENsYXNzKS5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzbGlkZXIuYW5pbWF0aW5nVG8gPT09IHNsaWRlci5sYXN0KSB7XG4gICAgICAgICAgICAgIHNsaWRlci5kaXJlY3Rpb25OYXYucmVtb3ZlQ2xhc3MoZGlzYWJsZWRDbGFzcykuZmlsdGVyKCcuJyArIG5hbWVzcGFjZSArIFwibmV4dFwiKS5hZGRDbGFzcyhkaXNhYmxlZENsYXNzKS5hdHRyKCd0YWJpbmRleCcsICctMScpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2xpZGVyLmRpcmVjdGlvbk5hdi5yZW1vdmVDbGFzcyhkaXNhYmxlZENsYXNzKS5yZW1vdmVBdHRyKCd0YWJpbmRleCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzbGlkZXIuZGlyZWN0aW9uTmF2LnJlbW92ZUNsYXNzKGRpc2FibGVkQ2xhc3MpLnJlbW92ZUF0dHIoJ3RhYmluZGV4Jyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcGF1c2VQbGF5OiB7XG4gICAgICAgIHNldHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcGF1c2VQbGF5U2NhZmZvbGQgPSAkKCc8ZGl2IGNsYXNzPVwiJyArIG5hbWVzcGFjZSArICdwYXVzZXBsYXlcIj48YSBocmVmPVwiI1wiPjwvYT48L2Rpdj4nKTtcblxuICAgICAgICAgIC8vIENPTlRST0xTQ09OVEFJTkVSOlxuICAgICAgICAgIGlmIChzbGlkZXIuY29udHJvbHNDb250YWluZXIpIHtcbiAgICAgICAgICAgIHNsaWRlci5jb250cm9sc0NvbnRhaW5lci5hcHBlbmQocGF1c2VQbGF5U2NhZmZvbGQpO1xuICAgICAgICAgICAgc2xpZGVyLnBhdXNlUGxheSA9ICQoJy4nICsgbmFtZXNwYWNlICsgJ3BhdXNlcGxheSBhJywgc2xpZGVyLmNvbnRyb2xzQ29udGFpbmVyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2xpZGVyLmFwcGVuZChwYXVzZVBsYXlTY2FmZm9sZCk7XG4gICAgICAgICAgICBzbGlkZXIucGF1c2VQbGF5ID0gJCgnLicgKyBuYW1lc3BhY2UgKyAncGF1c2VwbGF5IGEnLCBzbGlkZXIpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIG1ldGhvZHMucGF1c2VQbGF5LnVwZGF0ZSgoc2xpZGVyLnZhcnMuc2xpZGVzaG93KSA/IG5hbWVzcGFjZSArICdwYXVzZScgOiBuYW1lc3BhY2UgKyAncGxheScpO1xuXG4gICAgICAgICAgc2xpZGVyLnBhdXNlUGxheS5iaW5kKGV2ZW50VHlwZSwgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGlmICh3YXRjaGVkRXZlbnQgPT09IFwiXCIgfHwgd2F0Y2hlZEV2ZW50ID09PSBldmVudC50eXBlKSB7XG4gICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKG5hbWVzcGFjZSArICdwYXVzZScpKSB7XG4gICAgICAgICAgICAgICAgc2xpZGVyLm1hbnVhbFBhdXNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzbGlkZXIubWFudWFsUGxheSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNsaWRlci5wYXVzZSgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNsaWRlci5tYW51YWxQYXVzZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHNsaWRlci5tYW51YWxQbGF5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzbGlkZXIucGxheSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNldHVwIGZsYWdzIHRvIHByZXZlbnQgZXZlbnQgZHVwbGljYXRpb25cbiAgICAgICAgICAgIGlmICh3YXRjaGVkRXZlbnQgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgd2F0Y2hlZEV2ZW50ID0gZXZlbnQudHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1ldGhvZHMuc2V0VG9DbGVhcldhdGNoZWRFdmVudCgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICAgICAgKHN0YXRlID09PSBcInBsYXlcIikgPyBzbGlkZXIucGF1c2VQbGF5LnJlbW92ZUNsYXNzKG5hbWVzcGFjZSArICdwYXVzZScpLmFkZENsYXNzKG5hbWVzcGFjZSArICdwbGF5JykuaHRtbChzbGlkZXIudmFycy5wbGF5VGV4dCkgOiBzbGlkZXIucGF1c2VQbGF5LnJlbW92ZUNsYXNzKG5hbWVzcGFjZSArICdwbGF5JykuYWRkQ2xhc3MobmFtZXNwYWNlICsgJ3BhdXNlJykuaHRtbChzbGlkZXIudmFycy5wYXVzZVRleHQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdG91Y2g6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhcnRYLFxuICAgICAgICAgIHN0YXJ0WSxcbiAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgY3dpZHRoLFxuICAgICAgICAgIGR4LFxuICAgICAgICAgIHN0YXJ0VCxcbiAgICAgICAgICBvblRvdWNoU3RhcnQsXG4gICAgICAgICAgb25Ub3VjaE1vdmUsXG4gICAgICAgICAgb25Ub3VjaEVuZCxcbiAgICAgICAgICBzY3JvbGxpbmcgPSBmYWxzZSxcbiAgICAgICAgICBsb2NhbFggPSAwLFxuICAgICAgICAgIGxvY2FsWSA9IDAsXG4gICAgICAgICAgYWNjRHggPSAwO1xuXG4gICAgICAgIGlmKCFtc0dlc3R1cmUpe1xuICAgICAgICAgICAgb25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICBpZiAoc2xpZGVyLmFuaW1hdGluZykge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICggKCB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgKSB8fCBlLnRvdWNoZXMubGVuZ3RoID09PSAxICkge1xuICAgICAgICAgICAgICAgIHNsaWRlci5wYXVzZSgpO1xuICAgICAgICAgICAgICAgIC8vIENBUk9VU0VMOlxuICAgICAgICAgICAgICAgIGN3aWR0aCA9ICh2ZXJ0aWNhbCkgPyBzbGlkZXIuaCA6IHNsaWRlci4gdztcbiAgICAgICAgICAgICAgICBzdGFydFQgPSBOdW1iZXIobmV3IERhdGUoKSk7XG4gICAgICAgICAgICAgICAgLy8gQ0FST1VTRUw6XG5cbiAgICAgICAgICAgICAgICAvLyBMb2NhbCB2YXJzIGZvciBYIGFuZCBZIHBvaW50cy5cbiAgICAgICAgICAgICAgICBsb2NhbFggPSBlLnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgICAgICAgbG9jYWxZID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gKGNhcm91c2VsICYmIHJldmVyc2UgJiYgc2xpZGVyLmFuaW1hdGluZ1RvID09PSBzbGlkZXIubGFzdCkgPyAwIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAoY2Fyb3VzZWwgJiYgcmV2ZXJzZSkgPyBzbGlkZXIubGltaXQgLSAoKChzbGlkZXIuaXRlbVcgKyBzbGlkZXIudmFycy5pdGVtTWFyZ2luKSAqIHNsaWRlci5tb3ZlKSAqIHNsaWRlci5hbmltYXRpbmdUbykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgIChjYXJvdXNlbCAmJiBzbGlkZXIuY3VycmVudFNsaWRlID09PSBzbGlkZXIubGFzdCkgPyBzbGlkZXIubGltaXQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgIChjYXJvdXNlbCkgPyAoKHNsaWRlci5pdGVtVyArIHNsaWRlci52YXJzLml0ZW1NYXJnaW4pICogc2xpZGVyLm1vdmUpICogc2xpZGVyLmN1cnJlbnRTbGlkZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgKHJldmVyc2UpID8gKHNsaWRlci5sYXN0IC0gc2xpZGVyLmN1cnJlbnRTbGlkZSArIHNsaWRlci5jbG9uZU9mZnNldCkgKiBjd2lkdGggOiAoc2xpZGVyLmN1cnJlbnRTbGlkZSArIHNsaWRlci5jbG9uZU9mZnNldCkgKiBjd2lkdGg7XG4gICAgICAgICAgICAgICAgc3RhcnRYID0gKHZlcnRpY2FsKSA/IGxvY2FsWSA6IGxvY2FsWDtcbiAgICAgICAgICAgICAgICBzdGFydFkgPSAodmVydGljYWwpID8gbG9jYWxYIDogbG9jYWxZO1xuXG4gICAgICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgb25Ub3VjaE1vdmUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgIC8vIExvY2FsIHZhcnMgZm9yIFggYW5kIFkgcG9pbnRzLlxuXG4gICAgICAgICAgICAgIGxvY2FsWCA9IGUudG91Y2hlc1swXS5wYWdlWDtcbiAgICAgICAgICAgICAgbG9jYWxZID0gZS50b3VjaGVzWzBdLnBhZ2VZO1xuXG4gICAgICAgICAgICAgIGR4ID0gKHZlcnRpY2FsKSA/IHN0YXJ0WCAtIGxvY2FsWSA6IHN0YXJ0WCAtIGxvY2FsWDtcbiAgICAgICAgICAgICAgc2Nyb2xsaW5nID0gKHZlcnRpY2FsKSA/IChNYXRoLmFicyhkeCkgPCBNYXRoLmFicyhsb2NhbFggLSBzdGFydFkpKSA6IChNYXRoLmFicyhkeCkgPCBNYXRoLmFicyhsb2NhbFkgLSBzdGFydFkpKTtcblxuICAgICAgICAgICAgICB2YXIgZnhtcyA9IDUwMDtcblxuICAgICAgICAgICAgICBpZiAoICEgc2Nyb2xsaW5nIHx8IE51bWJlciggbmV3IERhdGUoKSApIC0gc3RhcnRUID4gZnhtcyApIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgaWYgKCFmYWRlICYmIHNsaWRlci50cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgICAgICAgaWYgKCFzbGlkZXIudmFycy5hbmltYXRpb25Mb29wKSB7XG4gICAgICAgICAgICAgICAgICAgIGR4ID0gZHgvKChzbGlkZXIuY3VycmVudFNsaWRlID09PSAwICYmIGR4IDwgMCB8fCBzbGlkZXIuY3VycmVudFNsaWRlID09PSBzbGlkZXIubGFzdCAmJiBkeCA+IDApID8gKE1hdGguYWJzKGR4KS9jd2lkdGgrMikgOiAxKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHNsaWRlci5zZXRQcm9wcyhvZmZzZXQgKyBkeCwgXCJzZXRUb3VjaFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIG9uVG91Y2hFbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgIC8vIGZpbmlzaCB0aGUgdG91Y2ggYnkgdW5kb2luZyB0aGUgdG91Y2ggc2Vzc2lvblxuICAgICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgIGlmIChzbGlkZXIuYW5pbWF0aW5nVG8gPT09IHNsaWRlci5jdXJyZW50U2xpZGUgJiYgIXNjcm9sbGluZyAmJiAhKGR4ID09PSBudWxsKSkge1xuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVEeCA9IChyZXZlcnNlKSA/IC1keCA6IGR4LFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSAodXBkYXRlRHggPiAwKSA/IHNsaWRlci5nZXRUYXJnZXQoJ25leHQnKSA6IHNsaWRlci5nZXRUYXJnZXQoJ3ByZXYnKTtcblxuICAgICAgICAgICAgICAgIGlmIChzbGlkZXIuY2FuQWR2YW5jZSh0YXJnZXQpICYmIChOdW1iZXIobmV3IERhdGUoKSkgLSBzdGFydFQgPCA1NTAgJiYgTWF0aC5hYnModXBkYXRlRHgpID4gNTAgfHwgTWF0aC5hYnModXBkYXRlRHgpID4gY3dpZHRoLzIpKSB7XG4gICAgICAgICAgICAgICAgICBzbGlkZXIuZmxleEFuaW1hdGUodGFyZ2V0LCBzbGlkZXIudmFycy5wYXVzZU9uQWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgaWYgKCFmYWRlKSB7IHNsaWRlci5mbGV4QW5pbWF0ZShzbGlkZXIuY3VycmVudFNsaWRlLCBzbGlkZXIudmFycy5wYXVzZU9uQWN0aW9uLCB0cnVlKTsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVG91Y2hFbmQsIGZhbHNlKTtcblxuICAgICAgICAgICAgICBzdGFydFggPSBudWxsO1xuICAgICAgICAgICAgICBzdGFydFkgPSBudWxsO1xuICAgICAgICAgICAgICBkeCA9IG51bGw7XG4gICAgICAgICAgICAgIG9mZnNldCA9IG51bGw7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Ub3VjaFN0YXJ0LCBmYWxzZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZWwuc3R5bGUubXNUb3VjaEFjdGlvbiA9IFwibm9uZVwiO1xuICAgICAgICAgICAgZWwuX2dlc3R1cmUgPSBuZXcgTVNHZXN0dXJlKCk7XG4gICAgICAgICAgICBlbC5fZ2VzdHVyZS50YXJnZXQgPSBlbDtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJNU1BvaW50ZXJEb3duXCIsIG9uTVNQb2ludGVyRG93biwgZmFsc2UpO1xuICAgICAgICAgICAgZWwuX3NsaWRlciA9IHNsaWRlcjtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJNU0dlc3R1cmVDaGFuZ2VcIiwgb25NU0dlc3R1cmVDaGFuZ2UsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoXCJNU0dlc3R1cmVFbmRcIiwgb25NU0dlc3R1cmVFbmQsIGZhbHNlKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gb25NU1BvaW50ZXJEb3duKGUpe1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNsaWRlci5hbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXIucGF1c2UoKTtcbiAgICAgICAgICAgICAgICAgICAgZWwuX2dlc3R1cmUuYWRkUG9pbnRlcihlLnBvaW50ZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgIGFjY0R4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgY3dpZHRoID0gKHZlcnRpY2FsKSA/IHNsaWRlci5oIDogc2xpZGVyLiB3O1xuICAgICAgICAgICAgICAgICAgICBzdGFydFQgPSBOdW1iZXIobmV3IERhdGUoKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIENBUk9VU0VMOlxuXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IChjYXJvdXNlbCAmJiByZXZlcnNlICYmIHNsaWRlci5hbmltYXRpbmdUbyA9PT0gc2xpZGVyLmxhc3QpID8gMCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAoY2Fyb3VzZWwgJiYgcmV2ZXJzZSkgPyBzbGlkZXIubGltaXQgLSAoKChzbGlkZXIuaXRlbVcgKyBzbGlkZXIudmFycy5pdGVtTWFyZ2luKSAqIHNsaWRlci5tb3ZlKSAqIHNsaWRlci5hbmltYXRpbmdUbykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjYXJvdXNlbCAmJiBzbGlkZXIuY3VycmVudFNsaWRlID09PSBzbGlkZXIubGFzdCkgPyBzbGlkZXIubGltaXQgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2Fyb3VzZWwpID8gKChzbGlkZXIuaXRlbVcgKyBzbGlkZXIudmFycy5pdGVtTWFyZ2luKSAqIHNsaWRlci5tb3ZlKSAqIHNsaWRlci5jdXJyZW50U2xpZGUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHJldmVyc2UpID8gKHNsaWRlci5sYXN0IC0gc2xpZGVyLmN1cnJlbnRTbGlkZSArIHNsaWRlci5jbG9uZU9mZnNldCkgKiBjd2lkdGggOiAoc2xpZGVyLmN1cnJlbnRTbGlkZSArIHNsaWRlci5jbG9uZU9mZnNldCkgKiBjd2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBvbk1TR2VzdHVyZUNoYW5nZShlKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVyID0gZS50YXJnZXQuX3NsaWRlcjtcbiAgICAgICAgICAgICAgICBpZighc2xpZGVyKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNYID0gLWUudHJhbnNsYXRpb25YLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc1kgPSAtZS50cmFuc2xhdGlvblk7XG5cbiAgICAgICAgICAgICAgICAvL0FjY3VtdWxhdGUgdHJhbnNsYXRpb25zLlxuICAgICAgICAgICAgICAgIGFjY0R4ID0gYWNjRHggKyAoKHZlcnRpY2FsKSA/IHRyYW5zWSA6IHRyYW5zWCk7XG4gICAgICAgICAgICAgICAgZHggPSBhY2NEeDtcbiAgICAgICAgICAgICAgICBzY3JvbGxpbmcgPSAodmVydGljYWwpID8gKE1hdGguYWJzKGFjY0R4KSA8IE1hdGguYWJzKC10cmFuc1gpKSA6IChNYXRoLmFicyhhY2NEeCkgPCBNYXRoLmFicygtdHJhbnNZKSk7XG5cbiAgICAgICAgICAgICAgICBpZihlLmRldGFpbCA9PT0gZS5NU0dFU1RVUkVfRkxBR19JTkVSVElBKXtcbiAgICAgICAgICAgICAgICAgICAgc2V0SW1tZWRpYXRlKGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZWwuX2dlc3R1cmUuc3RvcCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFzY3JvbGxpbmcgfHwgTnVtYmVyKG5ldyBEYXRlKCkpIC0gc3RhcnRUID4gNTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmYWRlICYmIHNsaWRlci50cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzbGlkZXIudmFycy5hbmltYXRpb25Mb29wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHggPSBhY2NEeCAvICgoc2xpZGVyLmN1cnJlbnRTbGlkZSA9PT0gMCAmJiBhY2NEeCA8IDAgfHwgc2xpZGVyLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGVyLmxhc3QgJiYgYWNjRHggPiAwKSA/IChNYXRoLmFicyhhY2NEeCkgLyBjd2lkdGggKyAyKSA6IDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLnNldFByb3BzKG9mZnNldCArIGR4LCBcInNldFRvdWNoXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBvbk1TR2VzdHVyZUVuZChlKSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICB2YXIgc2xpZGVyID0gZS50YXJnZXQuX3NsaWRlcjtcbiAgICAgICAgICAgICAgICBpZighc2xpZGVyKXtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2xpZGVyLmFuaW1hdGluZ1RvID09PSBzbGlkZXIuY3VycmVudFNsaWRlICYmICFzY3JvbGxpbmcgJiYgIShkeCA9PT0gbnVsbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZUR4ID0gKHJldmVyc2UpID8gLWR4IDogZHgsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSAodXBkYXRlRHggPiAwKSA/IHNsaWRlci5nZXRUYXJnZXQoJ25leHQnKSA6IHNsaWRlci5nZXRUYXJnZXQoJ3ByZXYnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2xpZGVyLmNhbkFkdmFuY2UodGFyZ2V0KSAmJiAoTnVtYmVyKG5ldyBEYXRlKCkpIC0gc3RhcnRUIDwgNTUwICYmIE1hdGguYWJzKHVwZGF0ZUR4KSA+IDUwIHx8IE1hdGguYWJzKHVwZGF0ZUR4KSA+IGN3aWR0aC8yKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVyLmZsZXhBbmltYXRlKHRhcmdldCwgc2xpZGVyLnZhcnMucGF1c2VPbkFjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZhZGUpIHsgc2xpZGVyLmZsZXhBbmltYXRlKHNsaWRlci5jdXJyZW50U2xpZGUsIHNsaWRlci52YXJzLnBhdXNlT25BY3Rpb24sIHRydWUpOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzdGFydFggPSBudWxsO1xuICAgICAgICAgICAgICAgIHN0YXJ0WSA9IG51bGw7XG4gICAgICAgICAgICAgICAgZHggPSBudWxsO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYWNjRHggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFzbGlkZXIuYW5pbWF0aW5nICYmIHNsaWRlci5pcygnOnZpc2libGUnKSkge1xuICAgICAgICAgIGlmICghY2Fyb3VzZWwpIHsgc2xpZGVyLmRvTWF0aCgpOyB9XG5cbiAgICAgICAgICBpZiAoZmFkZSkge1xuICAgICAgICAgICAgLy8gU01PT1RIIEhFSUdIVDpcbiAgICAgICAgICAgIG1ldGhvZHMuc21vb3RoSGVpZ2h0KCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChjYXJvdXNlbCkgeyAvL0NBUk9VU0VMOlxuICAgICAgICAgICAgc2xpZGVyLnNsaWRlcy53aWR0aChzbGlkZXIuY29tcHV0ZWRXKTtcbiAgICAgICAgICAgIHNsaWRlci51cGRhdGUoc2xpZGVyLnBhZ2luZ0NvdW50KTtcbiAgICAgICAgICAgIHNsaWRlci5zZXRQcm9wcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmICh2ZXJ0aWNhbCkgeyAvL1ZFUlRJQ0FMOlxuICAgICAgICAgICAgc2xpZGVyLnZpZXdwb3J0LmhlaWdodChzbGlkZXIuaCk7XG4gICAgICAgICAgICBzbGlkZXIuc2V0UHJvcHMoc2xpZGVyLmgsIFwic2V0VG90YWxcIik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNNT09USCBIRUlHSFQ6XG4gICAgICAgICAgICBpZiAoc2xpZGVyLnZhcnMuc21vb3RoSGVpZ2h0KSB7IG1ldGhvZHMuc21vb3RoSGVpZ2h0KCk7IH1cbiAgICAgICAgICAgIHNsaWRlci5uZXdTbGlkZXMud2lkdGgoc2xpZGVyLmNvbXB1dGVkVyk7XG4gICAgICAgICAgICBzbGlkZXIuc2V0UHJvcHMoc2xpZGVyLmNvbXB1dGVkVywgXCJzZXRUb3RhbFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzbW9vdGhIZWlnaHQ6IGZ1bmN0aW9uKGR1cikge1xuICAgICAgICBpZiAoIXZlcnRpY2FsIHx8IGZhZGUpIHtcbiAgICAgICAgICB2YXIgJG9iaiA9IChmYWRlKSA/IHNsaWRlciA6IHNsaWRlci52aWV3cG9ydDtcbiAgICAgICAgICAoZHVyKSA/ICRvYmouYW5pbWF0ZSh7XCJoZWlnaHRcIjogc2xpZGVyLnNsaWRlcy5lcShzbGlkZXIuYW5pbWF0aW5nVG8pLmlubmVySGVpZ2h0KCl9LCBkdXIpIDogJG9iai5pbm5lckhlaWdodChzbGlkZXIuc2xpZGVzLmVxKHNsaWRlci5hbmltYXRpbmdUbykuaW5uZXJIZWlnaHQoKSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzeW5jOiBmdW5jdGlvbihhY3Rpb24pIHtcbiAgICAgICAgdmFyICRvYmogPSAkKHNsaWRlci52YXJzLnN5bmMpLmRhdGEoXCJmbGV4c2xpZGVyXCIpLFxuICAgICAgICAgICAgdGFyZ2V0ID0gc2xpZGVyLmFuaW1hdGluZ1RvO1xuXG4gICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICAgICAgY2FzZSBcImFuaW1hdGVcIjogJG9iai5mbGV4QW5pbWF0ZSh0YXJnZXQsIHNsaWRlci52YXJzLnBhdXNlT25BY3Rpb24sIGZhbHNlLCB0cnVlKTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBsYXlcIjogaWYgKCEkb2JqLnBsYXlpbmcgJiYgISRvYmouYXNOYXYpIHsgJG9iai5wbGF5KCk7IH0gYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBhdXNlXCI6ICRvYmoucGF1c2UoKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB1bmlxdWVJRDogZnVuY3Rpb24oJGNsb25lKSB7XG4gICAgICAgIC8vIEFwcGVuZCBfY2xvbmUgdG8gY3VycmVudCBsZXZlbCBhbmQgY2hpbGRyZW4gZWxlbWVudHMgd2l0aCBpZCBhdHRyaWJ1dGVzXG4gICAgICAgICRjbG9uZS5maWx0ZXIoICdbaWRdJyApLmFkZCgkY2xvbmUuZmluZCggJ1tpZF0nICkpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAkdGhpcy5hdHRyKCAnaWQnLCAkdGhpcy5hdHRyKCAnaWQnICkgKyAnX2Nsb25lJyApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICRjbG9uZTtcbiAgICAgIH0sXG4gICAgICBwYXVzZUludmlzaWJsZToge1xuICAgICAgICB2aXNQcm9wOiBudWxsLFxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgdmlzUHJvcCA9IG1ldGhvZHMucGF1c2VJbnZpc2libGUuZ2V0SGlkZGVuUHJvcCgpO1xuICAgICAgICAgIGlmICh2aXNQcm9wKSB7XG4gICAgICAgICAgICB2YXIgZXZ0bmFtZSA9IHZpc1Byb3AucmVwbGFjZSgvW0h8aF1pZGRlbi8sJycpICsgJ3Zpc2liaWxpdHljaGFuZ2UnO1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldnRuYW1lLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKG1ldGhvZHMucGF1c2VJbnZpc2libGUuaXNIaWRkZW4oKSkge1xuICAgICAgICAgICAgICAgIGlmKHNsaWRlci5zdGFydFRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChzbGlkZXIuc3RhcnRUaW1lb3V0KTsgLy9JZiBjbG9jayBpcyB0aWNraW5nLCBzdG9wIHRpbWVyIGFuZCBwcmV2ZW50IGZyb20gc3RhcnRpbmcgd2hpbGUgaW52aXNpYmxlXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHNsaWRlci5wYXVzZSgpOyAvL09yIGp1c3QgcGF1c2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYoc2xpZGVyLnN0YXJ0ZWQpIHtcbiAgICAgICAgICAgICAgICAgIHNsaWRlci5wbGF5KCk7IC8vSW5pdGlhdGVkIGJlZm9yZSwganVzdCBwbGF5XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzbGlkZXIudmFycy5pbml0RGVsYXkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoc2xpZGVyLnBsYXksIHNsaWRlci52YXJzLmluaXREZWxheSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXIucGxheSgpOyAvL0RpZG4ndCBpbml0IGJlZm9yZTogc2ltcGx5IGluaXQgb3Igd2FpdCBmb3IgaXRcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaXNIaWRkZW46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBwcm9wID0gbWV0aG9kcy5wYXVzZUludmlzaWJsZS5nZXRIaWRkZW5Qcm9wKCk7XG4gICAgICAgICAgaWYgKCFwcm9wKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkb2N1bWVudFtwcm9wXTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0SGlkZGVuUHJvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIHByZWZpeGVzID0gWyd3ZWJraXQnLCdtb3onLCdtcycsJ28nXTtcbiAgICAgICAgICAvLyBpZiAnaGlkZGVuJyBpcyBuYXRpdmVseSBzdXBwb3J0ZWQganVzdCByZXR1cm4gaXRcbiAgICAgICAgICBpZiAoJ2hpZGRlbicgaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAnaGlkZGVuJztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gb3RoZXJ3aXNlIGxvb3Agb3ZlciBhbGwgdGhlIGtub3duIHByZWZpeGVzIHVudGlsIHdlIGZpbmQgb25lXG4gICAgICAgICAgZm9yICggdmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICAgIGlmICgocHJlZml4ZXNbaV0gKyAnSGlkZGVuJykgaW4gZG9jdW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJlZml4ZXNbaV0gKyAnSGlkZGVuJztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBvdGhlcndpc2UgaXQncyBub3Qgc3VwcG9ydGVkXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzZXRUb0NsZWFyV2F0Y2hlZEV2ZW50OiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHdhdGNoZWRFdmVudENsZWFyVGltZXIpO1xuICAgICAgICB3YXRjaGVkRXZlbnRDbGVhclRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICB3YXRjaGVkRXZlbnQgPSBcIlwiO1xuICAgICAgICB9LCAzMDAwKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gcHVibGljIG1ldGhvZHNcbiAgICBzbGlkZXIuZmxleEFuaW1hdGUgPSBmdW5jdGlvbih0YXJnZXQsIHBhdXNlLCBvdmVycmlkZSwgd2l0aFN5bmMsIGZyb21OYXYpIHtcbiAgICAgIGlmICghc2xpZGVyLnZhcnMuYW5pbWF0aW9uTG9vcCAmJiB0YXJnZXQgIT09IHNsaWRlci5jdXJyZW50U2xpZGUpIHtcbiAgICAgICAgc2xpZGVyLmRpcmVjdGlvbiA9ICh0YXJnZXQgPiBzbGlkZXIuY3VycmVudFNsaWRlKSA/IFwibmV4dFwiIDogXCJwcmV2XCI7XG4gICAgICB9XG5cbiAgICAgIGlmIChhc05hdiAmJiBzbGlkZXIucGFnaW5nQ291bnQgPT09IDEpIHNsaWRlci5kaXJlY3Rpb24gPSAoc2xpZGVyLmN1cnJlbnRJdGVtIDwgdGFyZ2V0KSA/IFwibmV4dFwiIDogXCJwcmV2XCI7XG5cbiAgICAgIGlmICghc2xpZGVyLmFuaW1hdGluZyAmJiAoc2xpZGVyLmNhbkFkdmFuY2UodGFyZ2V0LCBmcm9tTmF2KSB8fCBvdmVycmlkZSkgJiYgc2xpZGVyLmlzKFwiOnZpc2libGVcIikpIHtcbiAgICAgICAgaWYgKGFzTmF2ICYmIHdpdGhTeW5jKSB7XG4gICAgICAgICAgdmFyIG1hc3RlciA9ICQoc2xpZGVyLnZhcnMuYXNOYXZGb3IpLmRhdGEoJ2ZsZXhzbGlkZXInKTtcbiAgICAgICAgICBzbGlkZXIuYXRFbmQgPSB0YXJnZXQgPT09IDAgfHwgdGFyZ2V0ID09PSBzbGlkZXIuY291bnQgLSAxO1xuICAgICAgICAgIG1hc3Rlci5mbGV4QW5pbWF0ZSh0YXJnZXQsIHRydWUsIGZhbHNlLCB0cnVlLCBmcm9tTmF2KTtcbiAgICAgICAgICBzbGlkZXIuZGlyZWN0aW9uID0gKHNsaWRlci5jdXJyZW50SXRlbSA8IHRhcmdldCkgPyBcIm5leHRcIiA6IFwicHJldlwiO1xuICAgICAgICAgIG1hc3Rlci5kaXJlY3Rpb24gPSBzbGlkZXIuZGlyZWN0aW9uO1xuXG4gICAgICAgICAgaWYgKE1hdGguY2VpbCgodGFyZ2V0ICsgMSkvc2xpZGVyLnZpc2libGUpIC0gMSAhPT0gc2xpZGVyLmN1cnJlbnRTbGlkZSAmJiB0YXJnZXQgIT09IDApIHtcbiAgICAgICAgICAgIHNsaWRlci5jdXJyZW50SXRlbSA9IHRhcmdldDtcbiAgICAgICAgICAgIHNsaWRlci5zbGlkZXMucmVtb3ZlQ2xhc3MobmFtZXNwYWNlICsgXCJhY3RpdmUtc2xpZGVcIikuZXEodGFyZ2V0KS5hZGRDbGFzcyhuYW1lc3BhY2UgKyBcImFjdGl2ZS1zbGlkZVwiKTtcbiAgICAgICAgICAgIHRhcmdldCA9IE1hdGguZmxvb3IodGFyZ2V0L3NsaWRlci52aXNpYmxlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2xpZGVyLmN1cnJlbnRJdGVtID0gdGFyZ2V0O1xuICAgICAgICAgICAgc2xpZGVyLnNsaWRlcy5yZW1vdmVDbGFzcyhuYW1lc3BhY2UgKyBcImFjdGl2ZS1zbGlkZVwiKS5lcSh0YXJnZXQpLmFkZENsYXNzKG5hbWVzcGFjZSArIFwiYWN0aXZlLXNsaWRlXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHNsaWRlci5hbmltYXRpbmcgPSB0cnVlO1xuICAgICAgICBzbGlkZXIuYW5pbWF0aW5nVG8gPSB0YXJnZXQ7XG5cbiAgICAgICAgLy8gU0xJREVTSE9XOlxuICAgICAgICBpZiAocGF1c2UpIHsgc2xpZGVyLnBhdXNlKCk7IH1cblxuICAgICAgICAvLyBBUEk6IGJlZm9yZSgpIGFuaW1hdGlvbiBDYWxsYmFja1xuICAgICAgICBzbGlkZXIudmFycy5iZWZvcmUoc2xpZGVyKTtcblxuICAgICAgICAvLyBTWU5DOlxuICAgICAgICBpZiAoc2xpZGVyLnN5bmNFeGlzdHMgJiYgIWZyb21OYXYpIHsgbWV0aG9kcy5zeW5jKFwiYW5pbWF0ZVwiKTsgfVxuXG4gICAgICAgIC8vIENPTlRST0xOQVZcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLmNvbnRyb2xOYXYpIHsgbWV0aG9kcy5jb250cm9sTmF2LmFjdGl2ZSgpOyB9XG5cbiAgICAgICAgLy8gIUNBUk9VU0VMOlxuICAgICAgICAvLyBDQU5ESURBVEU6IHNsaWRlIGFjdGl2ZSBjbGFzcyAoZm9yIGFkZC9yZW1vdmUgc2xpZGUpXG4gICAgICAgIGlmICghY2Fyb3VzZWwpIHsgc2xpZGVyLnNsaWRlcy5yZW1vdmVDbGFzcyhuYW1lc3BhY2UgKyAnYWN0aXZlLXNsaWRlJykuZXEodGFyZ2V0KS5hZGRDbGFzcyhuYW1lc3BhY2UgKyAnYWN0aXZlLXNsaWRlJyk7IH1cblxuICAgICAgICAvLyBJTkZJTklURSBMT09QOlxuICAgICAgICAvLyBDQU5ESURBVEU6IGF0RW5kXG4gICAgICAgIHNsaWRlci5hdEVuZCA9IHRhcmdldCA9PT0gMCB8fCB0YXJnZXQgPT09IHNsaWRlci5sYXN0O1xuXG4gICAgICAgIC8vIERJUkVDVElPTk5BVjpcbiAgICAgICAgaWYgKHNsaWRlci52YXJzLmRpcmVjdGlvbk5hdikgeyBtZXRob2RzLmRpcmVjdGlvbk5hdi51cGRhdGUoKTsgfVxuXG4gICAgICAgIGlmICh0YXJnZXQgPT09IHNsaWRlci5sYXN0KSB7XG4gICAgICAgICAgLy8gQVBJOiBlbmQoKSBvZiBjeWNsZSBDYWxsYmFja1xuICAgICAgICAgIHNsaWRlci52YXJzLmVuZChzbGlkZXIpO1xuICAgICAgICAgIC8vIFNMSURFU0hPVyAmJiAhSU5GSU5JVEUgTE9PUDpcbiAgICAgICAgICBpZiAoIXNsaWRlci52YXJzLmFuaW1hdGlvbkxvb3ApIHsgc2xpZGVyLnBhdXNlKCk7IH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNMSURFOlxuICAgICAgICBpZiAoIWZhZGUpIHtcbiAgICAgICAgICB2YXIgZGltZW5zaW9uID0gKHZlcnRpY2FsKSA/IHNsaWRlci5zbGlkZXMuZmlsdGVyKCc6Zmlyc3QnKS5oZWlnaHQoKSA6IHNsaWRlci5jb21wdXRlZFcsXG4gICAgICAgICAgICAgIG1hcmdpbiwgc2xpZGVTdHJpbmcsIGNhbGNOZXh0O1xuXG4gICAgICAgICAgLy8gSU5GSU5JVEUgTE9PUCAvIFJFVkVSU0U6XG4gICAgICAgICAgaWYgKGNhcm91c2VsKSB7XG4gICAgICAgICAgICBtYXJnaW4gPSBzbGlkZXIudmFycy5pdGVtTWFyZ2luO1xuICAgICAgICAgICAgY2FsY05leHQgPSAoKHNsaWRlci5pdGVtVyArIG1hcmdpbikgKiBzbGlkZXIubW92ZSkgKiBzbGlkZXIuYW5pbWF0aW5nVG87XG4gICAgICAgICAgICBzbGlkZVN0cmluZyA9IChjYWxjTmV4dCA+IHNsaWRlci5saW1pdCAmJiBzbGlkZXIudmlzaWJsZSAhPT0gMSkgPyBzbGlkZXIubGltaXQgOiBjYWxjTmV4dDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNsaWRlci5jdXJyZW50U2xpZGUgPT09IDAgJiYgdGFyZ2V0ID09PSBzbGlkZXIuY291bnQgLSAxICYmIHNsaWRlci52YXJzLmFuaW1hdGlvbkxvb3AgJiYgc2xpZGVyLmRpcmVjdGlvbiAhPT0gXCJuZXh0XCIpIHtcbiAgICAgICAgICAgIHNsaWRlU3RyaW5nID0gKHJldmVyc2UpID8gKHNsaWRlci5jb3VudCArIHNsaWRlci5jbG9uZU9mZnNldCkgKiBkaW1lbnNpb24gOiAwO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc2xpZGVyLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGVyLmxhc3QgJiYgdGFyZ2V0ID09PSAwICYmIHNsaWRlci52YXJzLmFuaW1hdGlvbkxvb3AgJiYgc2xpZGVyLmRpcmVjdGlvbiAhPT0gXCJwcmV2XCIpIHtcbiAgICAgICAgICAgIHNsaWRlU3RyaW5nID0gKHJldmVyc2UpID8gMCA6IChzbGlkZXIuY291bnQgKyAxKSAqIGRpbWVuc2lvbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2xpZGVTdHJpbmcgPSAocmV2ZXJzZSkgPyAoKHNsaWRlci5jb3VudCAtIDEpIC0gdGFyZ2V0ICsgc2xpZGVyLmNsb25lT2Zmc2V0KSAqIGRpbWVuc2lvbiA6ICh0YXJnZXQgKyBzbGlkZXIuY2xvbmVPZmZzZXQpICogZGltZW5zaW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzbGlkZXIuc2V0UHJvcHMoc2xpZGVTdHJpbmcsIFwiXCIsIHNsaWRlci52YXJzLmFuaW1hdGlvblNwZWVkKTtcbiAgICAgICAgICBpZiAoc2xpZGVyLnRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICBpZiAoIXNsaWRlci52YXJzLmFuaW1hdGlvbkxvb3AgfHwgIXNsaWRlci5hdEVuZCkge1xuICAgICAgICAgICAgICBzbGlkZXIuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIHNsaWRlci5jdXJyZW50U2xpZGUgPSBzbGlkZXIuYW5pbWF0aW5nVG87XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVuYmluZCBwcmV2aW91cyB0cmFuc2l0aW9uRW5kIGV2ZW50cyBhbmQgcmUtYmluZCBuZXcgdHJhbnNpdGlvbkVuZCBldmVudFxuICAgICAgICAgICAgc2xpZGVyLmNvbnRhaW5lci51bmJpbmQoXCJ3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmRcIik7XG4gICAgICAgICAgICBzbGlkZXIuY29udGFpbmVyLmJpbmQoXCJ3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChzbGlkZXIuZW5zdXJlQW5pbWF0aW9uRW5kKTtcbiAgICAgICAgICAgICAgc2xpZGVyLndyYXB1cChkaW1lbnNpb24pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIEluc3VyYW5jZSBmb3IgdGhlIGV2ZXItc28tZmlja2xlIHRyYW5zaXRpb25FbmQgZXZlbnRcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChzbGlkZXIuZW5zdXJlQW5pbWF0aW9uRW5kKTtcbiAgICAgICAgICAgIHNsaWRlci5lbnN1cmVBbmltYXRpb25FbmQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzbGlkZXIud3JhcHVwKGRpbWVuc2lvbik7XG4gICAgICAgICAgICB9LCBzbGlkZXIudmFycy5hbmltYXRpb25TcGVlZCArIDEwMCk7XG5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2xpZGVyLmNvbnRhaW5lci5hbmltYXRlKHNsaWRlci5hcmdzLCBzbGlkZXIudmFycy5hbmltYXRpb25TcGVlZCwgc2xpZGVyLnZhcnMuZWFzaW5nLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICBzbGlkZXIud3JhcHVwKGRpbWVuc2lvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7IC8vIEZBREU6XG4gICAgICAgICAgaWYgKCF0b3VjaCkge1xuICAgICAgICAgICAgc2xpZGVyLnNsaWRlcy5lcShzbGlkZXIuY3VycmVudFNsaWRlKS5jc3Moe1wiekluZGV4XCI6IDF9KS5hbmltYXRlKHtcIm9wYWNpdHlcIjogMH0sIHNsaWRlci52YXJzLmFuaW1hdGlvblNwZWVkLCBzbGlkZXIudmFycy5lYXNpbmcpO1xuICAgICAgICAgICAgc2xpZGVyLnNsaWRlcy5lcSh0YXJnZXQpLmNzcyh7XCJ6SW5kZXhcIjogMn0pLmFuaW1hdGUoe1wib3BhY2l0eVwiOiAxfSwgc2xpZGVyLnZhcnMuYW5pbWF0aW9uU3BlZWQsIHNsaWRlci52YXJzLmVhc2luZywgc2xpZGVyLndyYXB1cCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNsaWRlci5zbGlkZXMuZXEoc2xpZGVyLmN1cnJlbnRTbGlkZSkuY3NzKHsgXCJvcGFjaXR5XCI6IDAsIFwiekluZGV4XCI6IDEgfSk7XG4gICAgICAgICAgICBzbGlkZXIuc2xpZGVzLmVxKHRhcmdldCkuY3NzKHsgXCJvcGFjaXR5XCI6IDEsIFwiekluZGV4XCI6IDIgfSk7XG4gICAgICAgICAgICBzbGlkZXIud3JhcHVwKGRpbWVuc2lvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNNT09USCBIRUlHSFQ6XG4gICAgICAgIGlmIChzbGlkZXIudmFycy5zbW9vdGhIZWlnaHQpIHsgbWV0aG9kcy5zbW9vdGhIZWlnaHQoc2xpZGVyLnZhcnMuYW5pbWF0aW9uU3BlZWQpOyB9XG4gICAgICB9XG4gICAgfTtcbiAgICBzbGlkZXIud3JhcHVwID0gZnVuY3Rpb24oZGltZW5zaW9uKSB7XG4gICAgICAvLyBTTElERTpcbiAgICAgIGlmICghZmFkZSAmJiAhY2Fyb3VzZWwpIHtcbiAgICAgICAgaWYgKHNsaWRlci5jdXJyZW50U2xpZGUgPT09IDAgJiYgc2xpZGVyLmFuaW1hdGluZ1RvID09PSBzbGlkZXIubGFzdCAmJiBzbGlkZXIudmFycy5hbmltYXRpb25Mb29wKSB7XG4gICAgICAgICAgc2xpZGVyLnNldFByb3BzKGRpbWVuc2lvbiwgXCJqdW1wRW5kXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKHNsaWRlci5jdXJyZW50U2xpZGUgPT09IHNsaWRlci5sYXN0ICYmIHNsaWRlci5hbmltYXRpbmdUbyA9PT0gMCAmJiBzbGlkZXIudmFycy5hbmltYXRpb25Mb29wKSB7XG4gICAgICAgICAgc2xpZGVyLnNldFByb3BzKGRpbWVuc2lvbiwgXCJqdW1wU3RhcnRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNsaWRlci5hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgIHNsaWRlci5jdXJyZW50U2xpZGUgPSBzbGlkZXIuYW5pbWF0aW5nVG87XG4gICAgICAvLyBBUEk6IGFmdGVyKCkgYW5pbWF0aW9uIENhbGxiYWNrXG4gICAgICBzbGlkZXIudmFycy5hZnRlcihzbGlkZXIpO1xuICAgIH07XG5cbiAgICAvLyBTTElERVNIT1c6XG4gICAgc2xpZGVyLmFuaW1hdGVTbGlkZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghc2xpZGVyLmFuaW1hdGluZyAmJiBmb2N1c2VkICkgeyBzbGlkZXIuZmxleEFuaW1hdGUoc2xpZGVyLmdldFRhcmdldChcIm5leHRcIikpOyB9XG4gICAgfTtcbiAgICAvLyBTTElERVNIT1c6XG4gICAgc2xpZGVyLnBhdXNlID0gZnVuY3Rpb24oKSB7XG4gICAgICBjbGVhckludGVydmFsKHNsaWRlci5hbmltYXRlZFNsaWRlcyk7XG4gICAgICBzbGlkZXIuYW5pbWF0ZWRTbGlkZXMgPSBudWxsO1xuICAgICAgc2xpZGVyLnBsYXlpbmcgPSBmYWxzZTtcbiAgICAgIC8vIFBBVVNFUExBWTpcbiAgICAgIGlmIChzbGlkZXIudmFycy5wYXVzZVBsYXkpIHsgbWV0aG9kcy5wYXVzZVBsYXkudXBkYXRlKFwicGxheVwiKTsgfVxuICAgICAgLy8gU1lOQzpcbiAgICAgIGlmIChzbGlkZXIuc3luY0V4aXN0cykgeyBtZXRob2RzLnN5bmMoXCJwYXVzZVwiKTsgfVxuICAgIH07XG4gICAgLy8gU0xJREVTSE9XOlxuICAgIHNsaWRlci5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc2xpZGVyLnBsYXlpbmcpIHsgY2xlYXJJbnRlcnZhbChzbGlkZXIuYW5pbWF0ZWRTbGlkZXMpOyB9XG4gICAgICBzbGlkZXIuYW5pbWF0ZWRTbGlkZXMgPSBzbGlkZXIuYW5pbWF0ZWRTbGlkZXMgfHwgc2V0SW50ZXJ2YWwoc2xpZGVyLmFuaW1hdGVTbGlkZXMsIHNsaWRlci52YXJzLnNsaWRlc2hvd1NwZWVkKTtcbiAgICAgIHNsaWRlci5zdGFydGVkID0gc2xpZGVyLnBsYXlpbmcgPSB0cnVlO1xuICAgICAgLy8gUEFVU0VQTEFZOlxuICAgICAgaWYgKHNsaWRlci52YXJzLnBhdXNlUGxheSkgeyBtZXRob2RzLnBhdXNlUGxheS51cGRhdGUoXCJwYXVzZVwiKTsgfVxuICAgICAgLy8gU1lOQzpcbiAgICAgIGlmIChzbGlkZXIuc3luY0V4aXN0cykgeyBtZXRob2RzLnN5bmMoXCJwbGF5XCIpOyB9XG4gICAgfTtcbiAgICAvLyBTVE9QOlxuICAgIHNsaWRlci5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2xpZGVyLnBhdXNlKCk7XG4gICAgICBzbGlkZXIuc3RvcHBlZCA9IHRydWU7XG4gICAgfTtcbiAgICBzbGlkZXIuY2FuQWR2YW5jZSA9IGZ1bmN0aW9uKHRhcmdldCwgZnJvbU5hdikge1xuICAgICAgLy8gQVNOQVY6XG4gICAgICB2YXIgbGFzdCA9IChhc05hdikgPyBzbGlkZXIucGFnaW5nQ291bnQgLSAxIDogc2xpZGVyLmxhc3Q7XG4gICAgICByZXR1cm4gKGZyb21OYXYpID8gdHJ1ZSA6XG4gICAgICAgICAgICAgKGFzTmF2ICYmIHNsaWRlci5jdXJyZW50SXRlbSA9PT0gc2xpZGVyLmNvdW50IC0gMSAmJiB0YXJnZXQgPT09IDAgJiYgc2xpZGVyLmRpcmVjdGlvbiA9PT0gXCJwcmV2XCIpID8gdHJ1ZSA6XG4gICAgICAgICAgICAgKGFzTmF2ICYmIHNsaWRlci5jdXJyZW50SXRlbSA9PT0gMCAmJiB0YXJnZXQgPT09IHNsaWRlci5wYWdpbmdDb3VudCAtIDEgJiYgc2xpZGVyLmRpcmVjdGlvbiAhPT0gXCJuZXh0XCIpID8gZmFsc2UgOlxuICAgICAgICAgICAgICh0YXJnZXQgPT09IHNsaWRlci5jdXJyZW50U2xpZGUgJiYgIWFzTmF2KSA/IGZhbHNlIDpcbiAgICAgICAgICAgICAoc2xpZGVyLnZhcnMuYW5pbWF0aW9uTG9vcCkgPyB0cnVlIDpcbiAgICAgICAgICAgICAoc2xpZGVyLmF0RW5kICYmIHNsaWRlci5jdXJyZW50U2xpZGUgPT09IDAgJiYgdGFyZ2V0ID09PSBsYXN0ICYmIHNsaWRlci5kaXJlY3Rpb24gIT09IFwibmV4dFwiKSA/IGZhbHNlIDpcbiAgICAgICAgICAgICAoc2xpZGVyLmF0RW5kICYmIHNsaWRlci5jdXJyZW50U2xpZGUgPT09IGxhc3QgJiYgdGFyZ2V0ID09PSAwICYmIHNsaWRlci5kaXJlY3Rpb24gPT09IFwibmV4dFwiKSA/IGZhbHNlIDpcbiAgICAgICAgICAgICB0cnVlO1xuICAgIH07XG4gICAgc2xpZGVyLmdldFRhcmdldCA9IGZ1bmN0aW9uKGRpcikge1xuICAgICAgc2xpZGVyLmRpcmVjdGlvbiA9IGRpcjtcbiAgICAgIGlmIChkaXIgPT09IFwibmV4dFwiKSB7XG4gICAgICAgIHJldHVybiAoc2xpZGVyLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGVyLmxhc3QpID8gMCA6IHNsaWRlci5jdXJyZW50U2xpZGUgKyAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChzbGlkZXIuY3VycmVudFNsaWRlID09PSAwKSA/IHNsaWRlci5sYXN0IDogc2xpZGVyLmN1cnJlbnRTbGlkZSAtIDE7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFNMSURFOlxuICAgIHNsaWRlci5zZXRQcm9wcyA9IGZ1bmN0aW9uKHBvcywgc3BlY2lhbCwgZHVyKSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcG9zQ2hlY2sgPSAocG9zKSA/IHBvcyA6ICgoc2xpZGVyLml0ZW1XICsgc2xpZGVyLnZhcnMuaXRlbU1hcmdpbikgKiBzbGlkZXIubW92ZSkgKiBzbGlkZXIuYW5pbWF0aW5nVG8sXG4gICAgICAgICAgICBwb3NDYWxjID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoY2Fyb3VzZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHNwZWNpYWwgPT09IFwic2V0VG91Y2hcIikgPyBwb3MgOlxuICAgICAgICAgICAgICAgICAgICAgICAocmV2ZXJzZSAmJiBzbGlkZXIuYW5pbWF0aW5nVG8gPT09IHNsaWRlci5sYXN0KSA/IDAgOlxuICAgICAgICAgICAgICAgICAgICAgICAocmV2ZXJzZSkgPyBzbGlkZXIubGltaXQgLSAoKChzbGlkZXIuaXRlbVcgKyBzbGlkZXIudmFycy5pdGVtTWFyZ2luKSAqIHNsaWRlci5tb3ZlKSAqIHNsaWRlci5hbmltYXRpbmdUbykgOlxuICAgICAgICAgICAgICAgICAgICAgICAoc2xpZGVyLmFuaW1hdGluZ1RvID09PSBzbGlkZXIubGFzdCkgPyBzbGlkZXIubGltaXQgOiBwb3NDaGVjaztcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHNwZWNpYWwpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJzZXRUb3RhbFwiOiByZXR1cm4gKHJldmVyc2UpID8gKChzbGlkZXIuY291bnQgLSAxKSAtIHNsaWRlci5jdXJyZW50U2xpZGUgKyBzbGlkZXIuY2xvbmVPZmZzZXQpICogcG9zIDogKHNsaWRlci5jdXJyZW50U2xpZGUgKyBzbGlkZXIuY2xvbmVPZmZzZXQpICogcG9zO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcInNldFRvdWNoXCI6IHJldHVybiAocmV2ZXJzZSkgPyBwb3MgOiBwb3M7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwianVtcEVuZFwiOiByZXR1cm4gKHJldmVyc2UpID8gcG9zIDogc2xpZGVyLmNvdW50ICogcG9zO1xuICAgICAgICAgICAgICAgICAgY2FzZSBcImp1bXBTdGFydFwiOiByZXR1cm4gKHJldmVyc2UpID8gc2xpZGVyLmNvdW50ICogcG9zIDogcG9zO1xuICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIHBvcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0oKSk7XG5cbiAgICAgICAgICAgIHJldHVybiAocG9zQ2FsYyAqIC0xKSArIFwicHhcIjtcbiAgICAgICAgICB9KCkpO1xuXG4gICAgICBpZiAoc2xpZGVyLnRyYW5zaXRpb25zKSB7XG4gICAgICAgIHRhcmdldCA9ICh2ZXJ0aWNhbCkgPyBcInRyYW5zbGF0ZTNkKDAsXCIgKyB0YXJnZXQgKyBcIiwwKVwiIDogXCJ0cmFuc2xhdGUzZChcIiArIHRhcmdldCArIFwiLDAsMClcIjtcbiAgICAgICAgZHVyID0gKGR1ciAhPT0gdW5kZWZpbmVkKSA/IChkdXIvMTAwMCkgKyBcInNcIiA6IFwiMHNcIjtcbiAgICAgICAgc2xpZGVyLmNvbnRhaW5lci5jc3MoXCItXCIgKyBzbGlkZXIucGZ4ICsgXCItdHJhbnNpdGlvbi1kdXJhdGlvblwiLCBkdXIpO1xuICAgICAgICAgc2xpZGVyLmNvbnRhaW5lci5jc3MoXCJ0cmFuc2l0aW9uLWR1cmF0aW9uXCIsIGR1cik7XG4gICAgICB9XG5cbiAgICAgIHNsaWRlci5hcmdzW3NsaWRlci5wcm9wXSA9IHRhcmdldDtcbiAgICAgIGlmIChzbGlkZXIudHJhbnNpdGlvbnMgfHwgZHVyID09PSB1bmRlZmluZWQpIHsgc2xpZGVyLmNvbnRhaW5lci5jc3Moc2xpZGVyLmFyZ3MpOyB9XG5cbiAgICAgIHNsaWRlci5jb250YWluZXIuY3NzKCd0cmFuc2Zvcm0nLHRhcmdldCk7XG4gICAgfTtcblxuICAgIHNsaWRlci5zZXR1cCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgICAgIC8vIFNMSURFOlxuICAgICAgaWYgKCFmYWRlKSB7XG4gICAgICAgIHZhciBzbGlkZXJPZmZzZXQsIGFycjtcblxuICAgICAgICBpZiAodHlwZSA9PT0gXCJpbml0XCIpIHtcbiAgICAgICAgICBzbGlkZXIudmlld3BvcnQgPSAkKCc8ZGl2IGNsYXNzPVwiJyArIG5hbWVzcGFjZSArICd2aWV3cG9ydFwiPjwvZGl2PicpLmNzcyh7XCJvdmVyZmxvd1wiOiBcImhpZGRlblwiLCBcInBvc2l0aW9uXCI6IFwicmVsYXRpdmVcIn0pLmFwcGVuZFRvKHNsaWRlcikuYXBwZW5kKHNsaWRlci5jb250YWluZXIpO1xuICAgICAgICAgIC8vIElORklOSVRFIExPT1A6XG4gICAgICAgICAgc2xpZGVyLmNsb25lQ291bnQgPSAwO1xuICAgICAgICAgIHNsaWRlci5jbG9uZU9mZnNldCA9IDA7XG4gICAgICAgICAgLy8gUkVWRVJTRTpcbiAgICAgICAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgICAgICAgYXJyID0gJC5tYWtlQXJyYXkoc2xpZGVyLnNsaWRlcykucmV2ZXJzZSgpO1xuICAgICAgICAgICAgc2xpZGVyLnNsaWRlcyA9ICQoYXJyKTtcbiAgICAgICAgICAgIHNsaWRlci5jb250YWluZXIuZW1wdHkoKS5hcHBlbmQoc2xpZGVyLnNsaWRlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElORklOSVRFIExPT1AgJiYgIUNBUk9VU0VMOlxuICAgICAgICBpZiAoc2xpZGVyLnZhcnMuYW5pbWF0aW9uTG9vcCAmJiAhY2Fyb3VzZWwpIHtcbiAgICAgICAgICBzbGlkZXIuY2xvbmVDb3VudCA9IDI7XG4gICAgICAgICAgc2xpZGVyLmNsb25lT2Zmc2V0ID0gMTtcbiAgICAgICAgICAvLyBjbGVhciBvdXQgb2xkIGNsb25lc1xuICAgICAgICAgIGlmICh0eXBlICE9PSBcImluaXRcIikgeyBzbGlkZXIuY29udGFpbmVyLmZpbmQoJy5jbG9uZScpLnJlbW92ZSgpOyB9XG4gICAgICAgICAgc2xpZGVyLmNvbnRhaW5lci5hcHBlbmQobWV0aG9kcy51bmlxdWVJRChzbGlkZXIuc2xpZGVzLmZpcnN0KCkuY2xvbmUoKS5hZGRDbGFzcygnY2xvbmUnKSkuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAucHJlcGVuZChtZXRob2RzLnVuaXF1ZUlEKHNsaWRlci5zbGlkZXMubGFzdCgpLmNsb25lKCkuYWRkQ2xhc3MoJ2Nsb25lJykpLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKSk7XG4gICAgICAgIH1cbiAgICAgICAgc2xpZGVyLm5ld1NsaWRlcyA9ICQoc2xpZGVyLnZhcnMuc2VsZWN0b3IsIHNsaWRlcik7XG5cbiAgICAgICAgc2xpZGVyT2Zmc2V0ID0gKHJldmVyc2UpID8gc2xpZGVyLmNvdW50IC0gMSAtIHNsaWRlci5jdXJyZW50U2xpZGUgKyBzbGlkZXIuY2xvbmVPZmZzZXQgOiBzbGlkZXIuY3VycmVudFNsaWRlICsgc2xpZGVyLmNsb25lT2Zmc2V0O1xuICAgICAgICAvLyBWRVJUSUNBTDpcbiAgICAgICAgaWYgKHZlcnRpY2FsICYmICFjYXJvdXNlbCkge1xuICAgICAgICAgIHNsaWRlci5jb250YWluZXIuaGVpZ2h0KChzbGlkZXIuY291bnQgKyBzbGlkZXIuY2xvbmVDb3VudCkgKiAyMDAgKyBcIiVcIikuY3NzKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKS53aWR0aChcIjEwMCVcIik7XG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2xpZGVyLm5ld1NsaWRlcy5jc3Moe1wiZGlzcGxheVwiOiBcImJsb2NrXCJ9KTtcbiAgICAgICAgICAgIHNsaWRlci5kb01hdGgoKTtcbiAgICAgICAgICAgIHNsaWRlci52aWV3cG9ydC5oZWlnaHQoc2xpZGVyLmgpO1xuICAgICAgICAgICAgc2xpZGVyLnNldFByb3BzKHNsaWRlck9mZnNldCAqIHNsaWRlci5oLCBcImluaXRcIik7XG4gICAgICAgICAgfSwgKHR5cGUgPT09IFwiaW5pdFwiKSA/IDEwMCA6IDApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNsaWRlci5jb250YWluZXIud2lkdGgoKHNsaWRlci5jb3VudCArIHNsaWRlci5jbG9uZUNvdW50KSAqIDIwMCArIFwiJVwiKTtcbiAgICAgICAgICBzbGlkZXIuc2V0UHJvcHMoc2xpZGVyT2Zmc2V0ICogc2xpZGVyLmNvbXB1dGVkVywgXCJpbml0XCIpO1xuICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHNsaWRlci5kb01hdGgoKTtcbiAgICAgICAgICAgIHNsaWRlci5uZXdTbGlkZXMuY3NzKHtcIndpZHRoXCI6IHNsaWRlci5jb21wdXRlZFcsIFwibWFyZ2luUmlnaHRcIiA6IHNsaWRlci5jb21wdXRlZE0sIFwiZmxvYXRcIjogXCJsZWZ0XCIsIFwiZGlzcGxheVwiOiBcImJsb2NrXCJ9KTtcbiAgICAgICAgICAgIC8vIFNNT09USCBIRUlHSFQ6XG4gICAgICAgICAgICBpZiAoc2xpZGVyLnZhcnMuc21vb3RoSGVpZ2h0KSB7IG1ldGhvZHMuc21vb3RoSGVpZ2h0KCk7IH1cbiAgICAgICAgICB9LCAodHlwZSA9PT0gXCJpbml0XCIpID8gMTAwIDogMCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7IC8vIEZBREU6XG4gICAgICAgIHNsaWRlci5zbGlkZXMuY3NzKHtcIndpZHRoXCI6IFwiMTAwJVwiLCBcImZsb2F0XCI6IFwibGVmdFwiLCBcIm1hcmdpblJpZ2h0XCI6IFwiLTEwMCVcIiwgXCJwb3NpdGlvblwiOiBcInJlbGF0aXZlXCJ9KTtcbiAgICAgICAgaWYgKHR5cGUgPT09IFwiaW5pdFwiKSB7XG4gICAgICAgICAgaWYgKCF0b3VjaCkge1xuICAgICAgICAgICAgLy9zbGlkZXIuc2xpZGVzLmVxKHNsaWRlci5jdXJyZW50U2xpZGUpLmZhZGVJbihzbGlkZXIudmFycy5hbmltYXRpb25TcGVlZCwgc2xpZGVyLnZhcnMuZWFzaW5nKTtcbiAgICAgICAgICAgIGlmIChzbGlkZXIudmFycy5mYWRlRmlyc3RTbGlkZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICBzbGlkZXIuc2xpZGVzLmNzcyh7IFwib3BhY2l0eVwiOiAwLCBcImRpc3BsYXlcIjogXCJibG9ja1wiLCBcInpJbmRleFwiOiAxIH0pLmVxKHNsaWRlci5jdXJyZW50U2xpZGUpLmNzcyh7XCJ6SW5kZXhcIjogMn0pLmNzcyh7XCJvcGFjaXR5XCI6IDF9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNsaWRlci5zbGlkZXMuY3NzKHsgXCJvcGFjaXR5XCI6IDAsIFwiZGlzcGxheVwiOiBcImJsb2NrXCIsIFwiekluZGV4XCI6IDEgfSkuZXEoc2xpZGVyLmN1cnJlbnRTbGlkZSkuY3NzKHtcInpJbmRleFwiOiAyfSkuYW5pbWF0ZSh7XCJvcGFjaXR5XCI6IDF9LHNsaWRlci52YXJzLmFuaW1hdGlvblNwZWVkLHNsaWRlci52YXJzLmVhc2luZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNsaWRlci5zbGlkZXMuY3NzKHsgXCJvcGFjaXR5XCI6IDAsIFwiZGlzcGxheVwiOiBcImJsb2NrXCIsIFwid2Via2l0VHJhbnNpdGlvblwiOiBcIm9wYWNpdHkgXCIgKyBzbGlkZXIudmFycy5hbmltYXRpb25TcGVlZCAvIDEwMDAgKyBcInMgZWFzZVwiLCBcInpJbmRleFwiOiAxIH0pLmVxKHNsaWRlci5jdXJyZW50U2xpZGUpLmNzcyh7IFwib3BhY2l0eVwiOiAxLCBcInpJbmRleFwiOiAyfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNNT09USCBIRUlHSFQ6XG4gICAgICAgIGlmIChzbGlkZXIudmFycy5zbW9vdGhIZWlnaHQpIHsgbWV0aG9kcy5zbW9vdGhIZWlnaHQoKTsgfVxuICAgICAgfVxuICAgICAgLy8gIUNBUk9VU0VMOlxuICAgICAgLy8gQ0FORElEQVRFOiBhY3RpdmUgc2xpZGVcbiAgICAgIGlmICghY2Fyb3VzZWwpIHsgc2xpZGVyLnNsaWRlcy5yZW1vdmVDbGFzcyhuYW1lc3BhY2UgKyBcImFjdGl2ZS1zbGlkZVwiKS5lcShzbGlkZXIuY3VycmVudFNsaWRlKS5hZGRDbGFzcyhuYW1lc3BhY2UgKyBcImFjdGl2ZS1zbGlkZVwiKTsgfVxuXG4gICAgICAvL0ZsZXhTbGlkZXI6IGluaXQoKSBDYWxsYmFja1xuICAgICAgc2xpZGVyLnZhcnMuaW5pdChzbGlkZXIpO1xuICAgIH07XG5cbiAgICBzbGlkZXIuZG9NYXRoID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2xpZGUgPSBzbGlkZXIuc2xpZGVzLmZpcnN0KCksXG4gICAgICAgICAgc2xpZGVNYXJnaW4gPSBzbGlkZXIudmFycy5pdGVtTWFyZ2luLFxuICAgICAgICAgIG1pbkl0ZW1zID0gc2xpZGVyLnZhcnMubWluSXRlbXMsXG4gICAgICAgICAgbWF4SXRlbXMgPSBzbGlkZXIudmFycy5tYXhJdGVtcztcblxuICAgICAgc2xpZGVyLncgPSAoc2xpZGVyLnZpZXdwb3J0PT09dW5kZWZpbmVkKSA/IHNsaWRlci53aWR0aCgpIDogc2xpZGVyLnZpZXdwb3J0LndpZHRoKCk7XG4gICAgICBzbGlkZXIuaCA9IHNsaWRlLmhlaWdodCgpO1xuICAgICAgc2xpZGVyLmJveFBhZGRpbmcgPSBzbGlkZS5vdXRlcldpZHRoKCkgLSBzbGlkZS53aWR0aCgpO1xuXG4gICAgICAvLyBDQVJPVVNFTDpcbiAgICAgIGlmIChjYXJvdXNlbCkge1xuICAgICAgICBzbGlkZXIuaXRlbVQgPSBzbGlkZXIudmFycy5pdGVtV2lkdGggKyBzbGlkZU1hcmdpbjtcbiAgICAgICAgc2xpZGVyLml0ZW1NID0gc2xpZGVNYXJnaW47XG4gICAgICAgIHNsaWRlci5taW5XID0gKG1pbkl0ZW1zKSA/IG1pbkl0ZW1zICogc2xpZGVyLml0ZW1UIDogc2xpZGVyLnc7XG4gICAgICAgIHNsaWRlci5tYXhXID0gKG1heEl0ZW1zKSA/IChtYXhJdGVtcyAqIHNsaWRlci5pdGVtVCkgLSBzbGlkZU1hcmdpbiA6IHNsaWRlci53O1xuICAgICAgICBzbGlkZXIuaXRlbVcgPSAoc2xpZGVyLm1pblcgPiBzbGlkZXIudykgPyAoc2xpZGVyLncgLSAoc2xpZGVNYXJnaW4gKiAobWluSXRlbXMgLSAxKSkpL21pbkl0ZW1zIDpcbiAgICAgICAgICAgICAgICAgICAgICAgKHNsaWRlci5tYXhXIDwgc2xpZGVyLncpID8gKHNsaWRlci53IC0gKHNsaWRlTWFyZ2luICogKG1heEl0ZW1zIC0gMSkpKS9tYXhJdGVtcyA6XG4gICAgICAgICAgICAgICAgICAgICAgIChzbGlkZXIudmFycy5pdGVtV2lkdGggPiBzbGlkZXIudykgPyBzbGlkZXIudyA6IHNsaWRlci52YXJzLml0ZW1XaWR0aDtcblxuICAgICAgICBzbGlkZXIudmlzaWJsZSA9IE1hdGguZmxvb3Ioc2xpZGVyLncvKHNsaWRlci5pdGVtVykpO1xuICAgICAgICBzbGlkZXIubW92ZSA9IChzbGlkZXIudmFycy5tb3ZlID4gMCAmJiBzbGlkZXIudmFycy5tb3ZlIDwgc2xpZGVyLnZpc2libGUgKSA/IHNsaWRlci52YXJzLm1vdmUgOiBzbGlkZXIudmlzaWJsZTtcbiAgICAgICAgc2xpZGVyLnBhZ2luZ0NvdW50ID0gTWF0aC5jZWlsKCgoc2xpZGVyLmNvdW50IC0gc2xpZGVyLnZpc2libGUpL3NsaWRlci5tb3ZlKSArIDEpO1xuICAgICAgICBzbGlkZXIubGFzdCA9ICBzbGlkZXIucGFnaW5nQ291bnQgLSAxO1xuICAgICAgICBzbGlkZXIubGltaXQgPSAoc2xpZGVyLnBhZ2luZ0NvdW50ID09PSAxKSA/IDAgOlxuICAgICAgICAgICAgICAgICAgICAgICAoc2xpZGVyLnZhcnMuaXRlbVdpZHRoID4gc2xpZGVyLncpID8gKHNsaWRlci5pdGVtVyAqIChzbGlkZXIuY291bnQgLSAxKSkgKyAoc2xpZGVNYXJnaW4gKiAoc2xpZGVyLmNvdW50IC0gMSkpIDogKChzbGlkZXIuaXRlbVcgKyBzbGlkZU1hcmdpbikgKiBzbGlkZXIuY291bnQpIC0gc2xpZGVyLncgLSBzbGlkZU1hcmdpbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRlci5pdGVtVyA9IHNsaWRlci53O1xuICAgICAgICBzbGlkZXIuaXRlbU0gPSBzbGlkZU1hcmdpbjtcbiAgICAgICAgc2xpZGVyLnBhZ2luZ0NvdW50ID0gc2xpZGVyLmNvdW50O1xuICAgICAgICBzbGlkZXIubGFzdCA9IHNsaWRlci5jb3VudCAtIDE7XG4gICAgICB9XG4gICAgICBzbGlkZXIuY29tcHV0ZWRXID0gc2xpZGVyLml0ZW1XIC0gc2xpZGVyLmJveFBhZGRpbmc7XG4gICAgICBzbGlkZXIuY29tcHV0ZWRNID0gc2xpZGVyLml0ZW1NO1xuICAgIH07XG5cbiAgICBzbGlkZXIudXBkYXRlID0gZnVuY3Rpb24ocG9zLCBhY3Rpb24pIHtcbiAgICAgIHNsaWRlci5kb01hdGgoKTtcblxuICAgICAgLy8gdXBkYXRlIGN1cnJlbnRTbGlkZSBhbmQgc2xpZGVyLmFuaW1hdGluZ1RvIGlmIG5lY2Vzc2FyeVxuICAgICAgaWYgKCFjYXJvdXNlbCkge1xuICAgICAgICBpZiAocG9zIDwgc2xpZGVyLmN1cnJlbnRTbGlkZSkge1xuICAgICAgICAgIHNsaWRlci5jdXJyZW50U2xpZGUgKz0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChwb3MgPD0gc2xpZGVyLmN1cnJlbnRTbGlkZSAmJiBwb3MgIT09IDApIHtcbiAgICAgICAgICBzbGlkZXIuY3VycmVudFNsaWRlIC09IDE7XG4gICAgICAgIH1cbiAgICAgICAgc2xpZGVyLmFuaW1hdGluZ1RvID0gc2xpZGVyLmN1cnJlbnRTbGlkZTtcbiAgICAgIH1cblxuICAgICAgLy8gdXBkYXRlIGNvbnRyb2xOYXZcbiAgICAgIGlmIChzbGlkZXIudmFycy5jb250cm9sTmF2ICYmICFzbGlkZXIubWFudWFsQ29udHJvbHMpIHtcbiAgICAgICAgaWYgKChhY3Rpb24gPT09IFwiYWRkXCIgJiYgIWNhcm91c2VsKSB8fCBzbGlkZXIucGFnaW5nQ291bnQgPiBzbGlkZXIuY29udHJvbE5hdi5sZW5ndGgpIHtcbiAgICAgICAgICBtZXRob2RzLmNvbnRyb2xOYXYudXBkYXRlKFwiYWRkXCIpO1xuICAgICAgICB9IGVsc2UgaWYgKChhY3Rpb24gPT09IFwicmVtb3ZlXCIgJiYgIWNhcm91c2VsKSB8fCBzbGlkZXIucGFnaW5nQ291bnQgPCBzbGlkZXIuY29udHJvbE5hdi5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAoY2Fyb3VzZWwgJiYgc2xpZGVyLmN1cnJlbnRTbGlkZSA+IHNsaWRlci5sYXN0KSB7XG4gICAgICAgICAgICBzbGlkZXIuY3VycmVudFNsaWRlIC09IDE7XG4gICAgICAgICAgICBzbGlkZXIuYW5pbWF0aW5nVG8gLT0gMTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWV0aG9kcy5jb250cm9sTmF2LnVwZGF0ZShcInJlbW92ZVwiLCBzbGlkZXIubGFzdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIHVwZGF0ZSBkaXJlY3Rpb25OYXZcbiAgICAgIGlmIChzbGlkZXIudmFycy5kaXJlY3Rpb25OYXYpIHsgbWV0aG9kcy5kaXJlY3Rpb25OYXYudXBkYXRlKCk7IH1cblxuICAgIH07XG5cbiAgICBzbGlkZXIuYWRkU2xpZGUgPSBmdW5jdGlvbihvYmosIHBvcykge1xuICAgICAgdmFyICRvYmogPSAkKG9iaik7XG5cbiAgICAgIHNsaWRlci5jb3VudCArPSAxO1xuICAgICAgc2xpZGVyLmxhc3QgPSBzbGlkZXIuY291bnQgLSAxO1xuXG4gICAgICAvLyBhcHBlbmQgbmV3IHNsaWRlXG4gICAgICBpZiAodmVydGljYWwgJiYgcmV2ZXJzZSkge1xuICAgICAgICAocG9zICE9PSB1bmRlZmluZWQpID8gc2xpZGVyLnNsaWRlcy5lcShzbGlkZXIuY291bnQgLSBwb3MpLmFmdGVyKCRvYmopIDogc2xpZGVyLmNvbnRhaW5lci5wcmVwZW5kKCRvYmopO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKHBvcyAhPT0gdW5kZWZpbmVkKSA/IHNsaWRlci5zbGlkZXMuZXEocG9zKS5iZWZvcmUoJG9iaikgOiBzbGlkZXIuY29udGFpbmVyLmFwcGVuZCgkb2JqKTtcbiAgICAgIH1cblxuICAgICAgLy8gdXBkYXRlIGN1cnJlbnRTbGlkZSwgYW5pbWF0aW5nVG8sIGNvbnRyb2xOYXYsIGFuZCBkaXJlY3Rpb25OYXZcbiAgICAgIHNsaWRlci51cGRhdGUocG9zLCBcImFkZFwiKTtcblxuICAgICAgLy8gdXBkYXRlIHNsaWRlci5zbGlkZXNcbiAgICAgIHNsaWRlci5zbGlkZXMgPSAkKHNsaWRlci52YXJzLnNlbGVjdG9yICsgJzpub3QoLmNsb25lKScsIHNsaWRlcik7XG4gICAgICAvLyByZS1zZXR1cCB0aGUgc2xpZGVyIHRvIGFjY29tZGF0ZSBuZXcgc2xpZGVcbiAgICAgIHNsaWRlci5zZXR1cCgpO1xuXG4gICAgICAvL0ZsZXhTbGlkZXI6IGFkZGVkKCkgQ2FsbGJhY2tcbiAgICAgIHNsaWRlci52YXJzLmFkZGVkKHNsaWRlcik7XG4gICAgfTtcbiAgICBzbGlkZXIucmVtb3ZlU2xpZGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIHZhciBwb3MgPSAoaXNOYU4ob2JqKSkgPyBzbGlkZXIuc2xpZGVzLmluZGV4KCQob2JqKSkgOiBvYmo7XG5cbiAgICAgIC8vIHVwZGF0ZSBjb3VudFxuICAgICAgc2xpZGVyLmNvdW50IC09IDE7XG4gICAgICBzbGlkZXIubGFzdCA9IHNsaWRlci5jb3VudCAtIDE7XG5cbiAgICAgIC8vIHJlbW92ZSBzbGlkZVxuICAgICAgaWYgKGlzTmFOKG9iaikpIHtcbiAgICAgICAgJChvYmosIHNsaWRlci5zbGlkZXMpLnJlbW92ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgKHZlcnRpY2FsICYmIHJldmVyc2UpID8gc2xpZGVyLnNsaWRlcy5lcShzbGlkZXIubGFzdCkucmVtb3ZlKCkgOiBzbGlkZXIuc2xpZGVzLmVxKG9iaikucmVtb3ZlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vIHVwZGF0ZSBjdXJyZW50U2xpZGUsIGFuaW1hdGluZ1RvLCBjb250cm9sTmF2LCBhbmQgZGlyZWN0aW9uTmF2XG4gICAgICBzbGlkZXIuZG9NYXRoKCk7XG4gICAgICBzbGlkZXIudXBkYXRlKHBvcywgXCJyZW1vdmVcIik7XG5cbiAgICAgIC8vIHVwZGF0ZSBzbGlkZXIuc2xpZGVzXG4gICAgICBzbGlkZXIuc2xpZGVzID0gJChzbGlkZXIudmFycy5zZWxlY3RvciArICc6bm90KC5jbG9uZSknLCBzbGlkZXIpO1xuICAgICAgLy8gcmUtc2V0dXAgdGhlIHNsaWRlciB0byBhY2NvbWRhdGUgbmV3IHNsaWRlXG4gICAgICBzbGlkZXIuc2V0dXAoKTtcblxuICAgICAgLy8gRmxleFNsaWRlcjogcmVtb3ZlZCgpIENhbGxiYWNrXG4gICAgICBzbGlkZXIudmFycy5yZW1vdmVkKHNsaWRlcik7XG4gICAgfTtcblxuICAgIC8vRmxleFNsaWRlcjogSW5pdGlhbGl6ZVxuICAgIG1ldGhvZHMuaW5pdCgpO1xuICB9O1xuXG4gIC8vIEVuc3VyZSB0aGUgc2xpZGVyIGlzbid0IGZvY3Vzc2VkIGlmIHRoZSB3aW5kb3cgbG9zZXMgZm9jdXMuXG4gICQoIHdpbmRvdyApLmJsdXIoIGZ1bmN0aW9uICggZSApIHtcbiAgICBmb2N1c2VkID0gZmFsc2U7XG4gIH0pLmZvY3VzKCBmdW5jdGlvbiAoIGUgKSB7XG4gICAgZm9jdXNlZCA9IHRydWU7XG4gIH0pO1xuXG4gIC8vRmxleFNsaWRlcjogRGVmYXVsdCBTZXR0aW5nc1xuICAkLmZsZXhzbGlkZXIuZGVmYXVsdHMgPSB7XG4gICAgbmFtZXNwYWNlOiBcImZsZXgtXCIsICAgICAgICAgICAgIC8ve05FV30gU3RyaW5nOiBQcmVmaXggc3RyaW5nIGF0dGFjaGVkIHRvIHRoZSBjbGFzcyBvZiBldmVyeSBlbGVtZW50IGdlbmVyYXRlZCBieSB0aGUgcGx1Z2luXG4gICAgc2VsZWN0b3I6IFwiLnNsaWRlcyA+IGxpXCIsICAgICAgIC8ve05FV30gU2VsZWN0b3I6IE11c3QgbWF0Y2ggYSBzaW1wbGUgcGF0dGVybi4gJ3tjb250YWluZXJ9ID4ge3NsaWRlfScgLS0gSWdub3JlIHBhdHRlcm4gYXQgeW91ciBvd24gcGVyaWxcbiAgICBhbmltYXRpb246IFwiZmFkZVwiLCAgICAgICAgICAgICAgLy9TdHJpbmc6IFNlbGVjdCB5b3VyIGFuaW1hdGlvbiB0eXBlLCBcImZhZGVcIiBvciBcInNsaWRlXCJcbiAgICBlYXNpbmc6IFwic3dpbmdcIiwgICAgICAgICAgICAgICAgLy97TkVXfSBTdHJpbmc6IERldGVybWluZXMgdGhlIGVhc2luZyBtZXRob2QgdXNlZCBpbiBqUXVlcnkgdHJhbnNpdGlvbnMuIGpRdWVyeSBlYXNpbmcgcGx1Z2luIGlzIHN1cHBvcnRlZCFcbiAgICBkaXJlY3Rpb246IFwiaG9yaXpvbnRhbFwiLCAgICAgICAgLy9TdHJpbmc6IFNlbGVjdCB0aGUgc2xpZGluZyBkaXJlY3Rpb24sIFwiaG9yaXpvbnRhbFwiIG9yIFwidmVydGljYWxcIlxuICAgIHJldmVyc2U6IGZhbHNlLCAgICAgICAgICAgICAgICAgLy97TkVXfSBCb29sZWFuOiBSZXZlcnNlIHRoZSBhbmltYXRpb24gZGlyZWN0aW9uXG4gICAgYW5pbWF0aW9uTG9vcDogdHJ1ZSwgICAgICAgICAgICAvL0Jvb2xlYW46IFNob3VsZCB0aGUgYW5pbWF0aW9uIGxvb3A/IElmIGZhbHNlLCBkaXJlY3Rpb25OYXYgd2lsbCByZWNlaXZlZCBcImRpc2FibGVcIiBjbGFzc2VzIGF0IGVpdGhlciBlbmRcbiAgICBzbW9vdGhIZWlnaHQ6IGZhbHNlLCAgICAgICAgICAgIC8ve05FV30gQm9vbGVhbjogQWxsb3cgaGVpZ2h0IG9mIHRoZSBzbGlkZXIgdG8gYW5pbWF0ZSBzbW9vdGhseSBpbiBob3Jpem9udGFsIG1vZGVcbiAgICBzdGFydEF0OiAwLCAgICAgICAgICAgICAgICAgICAgIC8vSW50ZWdlcjogVGhlIHNsaWRlIHRoYXQgdGhlIHNsaWRlciBzaG91bGQgc3RhcnQgb24uIEFycmF5IG5vdGF0aW9uICgwID0gZmlyc3Qgc2xpZGUpXG4gICAgc2xpZGVzaG93OiB0cnVlLCAgICAgICAgICAgICAgICAvL0Jvb2xlYW46IEFuaW1hdGUgc2xpZGVyIGF1dG9tYXRpY2FsbHlcbiAgICBzbGlkZXNob3dTcGVlZDogNzAwMCwgICAgICAgICAgIC8vSW50ZWdlcjogU2V0IHRoZSBzcGVlZCBvZiB0aGUgc2xpZGVzaG93IGN5Y2xpbmcsIGluIG1pbGxpc2Vjb25kc1xuICAgIGFuaW1hdGlvblNwZWVkOiA2MDAsICAgICAgICAgICAgLy9JbnRlZ2VyOiBTZXQgdGhlIHNwZWVkIG9mIGFuaW1hdGlvbnMsIGluIG1pbGxpc2Vjb25kc1xuICAgIGluaXREZWxheTogMCwgICAgICAgICAgICAgICAgICAgLy97TkVXfSBJbnRlZ2VyOiBTZXQgYW4gaW5pdGlhbGl6YXRpb24gZGVsYXksIGluIG1pbGxpc2Vjb25kc1xuICAgIHJhbmRvbWl6ZTogZmFsc2UsICAgICAgICAgICAgICAgLy9Cb29sZWFuOiBSYW5kb21pemUgc2xpZGUgb3JkZXJcbiAgICBmYWRlRmlyc3RTbGlkZTogdHJ1ZSwgICAgICAgICAgIC8vQm9vbGVhbjogRmFkZSBpbiB0aGUgZmlyc3Qgc2xpZGUgd2hlbiBhbmltYXRpb24gdHlwZSBpcyBcImZhZGVcIlxuICAgIHRodW1iQ2FwdGlvbnM6IGZhbHNlLCAgICAgICAgICAgLy9Cb29sZWFuOiBXaGV0aGVyIG9yIG5vdCB0byBwdXQgY2FwdGlvbnMgb24gdGh1bWJuYWlscyB3aGVuIHVzaW5nIHRoZSBcInRodW1ibmFpbHNcIiBjb250cm9sTmF2LlxuXG4gICAgLy8gVXNhYmlsaXR5IGZlYXR1cmVzXG4gICAgcGF1c2VPbkFjdGlvbjogdHJ1ZSwgICAgICAgICAgICAvL0Jvb2xlYW46IFBhdXNlIHRoZSBzbGlkZXNob3cgd2hlbiBpbnRlcmFjdGluZyB3aXRoIGNvbnRyb2wgZWxlbWVudHMsIGhpZ2hseSByZWNvbW1lbmRlZC5cbiAgICBwYXVzZU9uSG92ZXI6IGZhbHNlLCAgICAgICAgICAgIC8vQm9vbGVhbjogUGF1c2UgdGhlIHNsaWRlc2hvdyB3aGVuIGhvdmVyaW5nIG92ZXIgc2xpZGVyLCB0aGVuIHJlc3VtZSB3aGVuIG5vIGxvbmdlciBob3ZlcmluZ1xuICAgIHBhdXNlSW52aXNpYmxlOiB0cnVlLCAgIFx0XHQvL3tORVd9IEJvb2xlYW46IFBhdXNlIHRoZSBzbGlkZXNob3cgd2hlbiB0YWIgaXMgaW52aXNpYmxlLCByZXN1bWUgd2hlbiB2aXNpYmxlLiBQcm92aWRlcyBiZXR0ZXIgVVgsIGxvd2VyIENQVSB1c2FnZS5cbiAgICB1c2VDU1M6IHRydWUsICAgICAgICAgICAgICAgICAgIC8ve05FV30gQm9vbGVhbjogU2xpZGVyIHdpbGwgdXNlIENTUzMgdHJhbnNpdGlvbnMgaWYgYXZhaWxhYmxlXG4gICAgdG91Y2g6IHRydWUsICAgICAgICAgICAgICAgICAgICAvL3tORVd9IEJvb2xlYW46IEFsbG93IHRvdWNoIHN3aXBlIG5hdmlnYXRpb24gb2YgdGhlIHNsaWRlciBvbiB0b3VjaC1lbmFibGVkIGRldmljZXNcbiAgICB2aWRlbzogZmFsc2UsICAgICAgICAgICAgICAgICAgIC8ve05FV30gQm9vbGVhbjogSWYgdXNpbmcgdmlkZW8gaW4gdGhlIHNsaWRlciwgd2lsbCBwcmV2ZW50IENTUzMgM0QgVHJhbnNmb3JtcyB0byBhdm9pZCBncmFwaGljYWwgZ2xpdGNoZXNcblxuICAgIC8vIFByaW1hcnkgQ29udHJvbHNcbiAgICBjb250cm9sTmF2OiB0cnVlLCAgICAgICAgICAgICAgIC8vQm9vbGVhbjogQ3JlYXRlIG5hdmlnYXRpb24gZm9yIHBhZ2luZyBjb250cm9sIG9mIGVhY2ggc2xpZGU/IE5vdGU6IExlYXZlIHRydWUgZm9yIG1hbnVhbENvbnRyb2xzIHVzYWdlXG4gICAgZGlyZWN0aW9uTmF2OiB0cnVlLCAgICAgICAgICAgICAvL0Jvb2xlYW46IENyZWF0ZSBuYXZpZ2F0aW9uIGZvciBwcmV2aW91cy9uZXh0IG5hdmlnYXRpb24/ICh0cnVlL2ZhbHNlKVxuICAgIHByZXZUZXh0OiBcIlByZXZpb3VzXCIsICAgICAgICAgICAvL1N0cmluZzogU2V0IHRoZSB0ZXh0IGZvciB0aGUgXCJwcmV2aW91c1wiIGRpcmVjdGlvbk5hdiBpdGVtXG4gICAgbmV4dFRleHQ6IFwiTmV4dFwiLCAgICAgICAgICAgICAgIC8vU3RyaW5nOiBTZXQgdGhlIHRleHQgZm9yIHRoZSBcIm5leHRcIiBkaXJlY3Rpb25OYXYgaXRlbVxuXG4gICAgLy8gU2Vjb25kYXJ5IE5hdmlnYXRpb25cbiAgICBrZXlib2FyZDogdHJ1ZSwgICAgICAgICAgICAgICAgIC8vQm9vbGVhbjogQWxsb3cgc2xpZGVyIG5hdmlnYXRpbmcgdmlhIGtleWJvYXJkIGxlZnQvcmlnaHQga2V5c1xuICAgIG11bHRpcGxlS2V5Ym9hcmQ6IGZhbHNlLCAgICAgICAgLy97TkVXfSBCb29sZWFuOiBBbGxvdyBrZXlib2FyZCBuYXZpZ2F0aW9uIHRvIGFmZmVjdCBtdWx0aXBsZSBzbGlkZXJzLiBEZWZhdWx0IGJlaGF2aW9yIGN1dHMgb3V0IGtleWJvYXJkIG5hdmlnYXRpb24gd2l0aCBtb3JlIHRoYW4gb25lIHNsaWRlciBwcmVzZW50LlxuICAgIG1vdXNld2hlZWw6IGZhbHNlLCAgICAgICAgICAgICAgLy97VVBEQVRFRH0gQm9vbGVhbjogUmVxdWlyZXMganF1ZXJ5Lm1vdXNld2hlZWwuanMgKGh0dHBzOi8vZ2l0aHViLmNvbS9icmFuZG9uYWFyb24vanF1ZXJ5LW1vdXNld2hlZWwpIC0gQWxsb3dzIHNsaWRlciBuYXZpZ2F0aW5nIHZpYSBtb3VzZXdoZWVsXG4gICAgcGF1c2VQbGF5OiBmYWxzZSwgICAgICAgICAgICAgICAvL0Jvb2xlYW46IENyZWF0ZSBwYXVzZS9wbGF5IGR5bmFtaWMgZWxlbWVudFxuICAgIHBhdXNlVGV4dDogXCJQYXVzZVwiLCAgICAgICAgICAgICAvL1N0cmluZzogU2V0IHRoZSB0ZXh0IGZvciB0aGUgXCJwYXVzZVwiIHBhdXNlUGxheSBpdGVtXG4gICAgcGxheVRleHQ6IFwiUGxheVwiLCAgICAgICAgICAgICAgIC8vU3RyaW5nOiBTZXQgdGhlIHRleHQgZm9yIHRoZSBcInBsYXlcIiBwYXVzZVBsYXkgaXRlbVxuXG4gICAgLy8gU3BlY2lhbCBwcm9wZXJ0aWVzXG4gICAgY29udHJvbHNDb250YWluZXI6IFwiXCIsICAgICAgICAgIC8ve1VQREFURUR9IGpRdWVyeSBPYmplY3QvU2VsZWN0b3I6IERlY2xhcmUgd2hpY2ggY29udGFpbmVyIHRoZSBuYXZpZ2F0aW9uIGVsZW1lbnRzIHNob3VsZCBiZSBhcHBlbmRlZCB0b28uIERlZmF1bHQgY29udGFpbmVyIGlzIHRoZSBGbGV4U2xpZGVyIGVsZW1lbnQuIEV4YW1wbGUgdXNlIHdvdWxkIGJlICQoXCIuZmxleHNsaWRlci1jb250YWluZXJcIikuIFByb3BlcnR5IGlzIGlnbm9yZWQgaWYgZ2l2ZW4gZWxlbWVudCBpcyBub3QgZm91bmQuXG4gICAgbWFudWFsQ29udHJvbHM6IFwiXCIsICAgICAgICAgICAgIC8ve1VQREFURUR9IGpRdWVyeSBPYmplY3QvU2VsZWN0b3I6IERlY2xhcmUgY3VzdG9tIGNvbnRyb2wgbmF2aWdhdGlvbi4gRXhhbXBsZXMgd291bGQgYmUgJChcIi5mbGV4LWNvbnRyb2wtbmF2IGxpXCIpIG9yIFwiI3RhYnMtbmF2IGxpIGltZ1wiLCBldGMuIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4geW91ciBjb250cm9sTmF2IHNob3VsZCBtYXRjaCB0aGUgbnVtYmVyIG9mIHNsaWRlcy90YWJzLlxuICAgIGN1c3RvbURpcmVjdGlvbk5hdjogXCJcIiwgICAgICAgICAvL3tORVd9IGpRdWVyeSBPYmplY3QvU2VsZWN0b3I6IEN1c3RvbSBwcmV2IC8gbmV4dCBidXR0b24uIE11c3QgYmUgdHdvIGpRdWVyeSBlbGVtZW50cy4gSW4gb3JkZXIgdG8gbWFrZSB0aGUgZXZlbnRzIHdvcmsgdGhleSBoYXZlIHRvIGhhdmUgdGhlIGNsYXNzZXMgXCJwcmV2XCIgYW5kIFwibmV4dFwiIChwbHVzIG5hbWVzcGFjZSlcbiAgICBzeW5jOiBcIlwiLCAgICAgICAgICAgICAgICAgICAgICAgLy97TkVXfSBTZWxlY3RvcjogTWlycm9yIHRoZSBhY3Rpb25zIHBlcmZvcm1lZCBvbiB0aGlzIHNsaWRlciB3aXRoIGFub3RoZXIgc2xpZGVyLiBVc2Ugd2l0aCBjYXJlLlxuICAgIGFzTmF2Rm9yOiBcIlwiLCAgICAgICAgICAgICAgICAgICAvL3tORVd9IFNlbGVjdG9yOiBJbnRlcm5hbCBwcm9wZXJ0eSBleHBvc2VkIGZvciB0dXJuaW5nIHRoZSBzbGlkZXIgaW50byBhIHRodW1ibmFpbCBuYXZpZ2F0aW9uIGZvciBhbm90aGVyIHNsaWRlclxuXG4gICAgLy8gQ2Fyb3VzZWwgT3B0aW9uc1xuICAgIGl0ZW1XaWR0aDogMCwgICAgICAgICAgICAgICAgICAgLy97TkVXfSBJbnRlZ2VyOiBCb3gtbW9kZWwgd2lkdGggb2YgaW5kaXZpZHVhbCBjYXJvdXNlbCBpdGVtcywgaW5jbHVkaW5nIGhvcml6b250YWwgYm9yZGVycyBhbmQgcGFkZGluZy5cbiAgICBpdGVtTWFyZ2luOiAwLCAgICAgICAgICAgICAgICAgIC8ve05FV30gSW50ZWdlcjogTWFyZ2luIGJldHdlZW4gY2Fyb3VzZWwgaXRlbXMuXG4gICAgbWluSXRlbXM6IDEsICAgICAgICAgICAgICAgICAgICAvL3tORVd9IEludGVnZXI6IE1pbmltdW0gbnVtYmVyIG9mIGNhcm91c2VsIGl0ZW1zIHRoYXQgc2hvdWxkIGJlIHZpc2libGUuIEl0ZW1zIHdpbGwgcmVzaXplIGZsdWlkbHkgd2hlbiBiZWxvdyB0aGlzLlxuICAgIG1heEl0ZW1zOiAwLCAgICAgICAgICAgICAgICAgICAgLy97TkVXfSBJbnRlZ2VyOiBNYXhtaW11bSBudW1iZXIgb2YgY2Fyb3VzZWwgaXRlbXMgdGhhdCBzaG91bGQgYmUgdmlzaWJsZS4gSXRlbXMgd2lsbCByZXNpemUgZmx1aWRseSB3aGVuIGFib3ZlIHRoaXMgbGltaXQuXG4gICAgbW92ZTogMCwgICAgICAgICAgICAgICAgICAgICAgICAvL3tORVd9IEludGVnZXI6IE51bWJlciBvZiBjYXJvdXNlbCBpdGVtcyB0aGF0IHNob3VsZCBtb3ZlIG9uIGFuaW1hdGlvbi4gSWYgMCwgc2xpZGVyIHdpbGwgbW92ZSBhbGwgdmlzaWJsZSBpdGVtcy5cbiAgICBhbGxvd09uZVNsaWRlOiB0cnVlLCAgICAgICAgICAgLy97TkVXfSBCb29sZWFuOiBXaGV0aGVyIG9yIG5vdCB0byBhbGxvdyBhIHNsaWRlciBjb21wcmlzZWQgb2YgYSBzaW5nbGUgc2xpZGVcblxuICAgIC8vIENhbGxiYWNrIEFQSVxuICAgIHN0YXJ0OiBmdW5jdGlvbigpe30sICAgICAgICAgICAgLy9DYWxsYmFjazogZnVuY3Rpb24oc2xpZGVyKSAtIEZpcmVzIHdoZW4gdGhlIHNsaWRlciBsb2FkcyB0aGUgZmlyc3Qgc2xpZGVcbiAgICBiZWZvcmU6IGZ1bmN0aW9uKCl7fSwgICAgICAgICAgIC8vQ2FsbGJhY2s6IGZ1bmN0aW9uKHNsaWRlcikgLSBGaXJlcyBhc3luY2hyb25vdXNseSB3aXRoIGVhY2ggc2xpZGVyIGFuaW1hdGlvblxuICAgIGFmdGVyOiBmdW5jdGlvbigpe30sICAgICAgICAgICAgLy9DYWxsYmFjazogZnVuY3Rpb24oc2xpZGVyKSAtIEZpcmVzIGFmdGVyIGVhY2ggc2xpZGVyIGFuaW1hdGlvbiBjb21wbGV0ZXNcbiAgICBlbmQ6IGZ1bmN0aW9uKCl7fSwgICAgICAgICAgICAgIC8vQ2FsbGJhY2s6IGZ1bmN0aW9uKHNsaWRlcikgLSBGaXJlcyB3aGVuIHRoZSBzbGlkZXIgcmVhY2hlcyB0aGUgbGFzdCBzbGlkZSAoYXN5bmNocm9ub3VzKVxuICAgIGFkZGVkOiBmdW5jdGlvbigpe30sICAgICAgICAgICAgLy97TkVXfSBDYWxsYmFjazogZnVuY3Rpb24oc2xpZGVyKSAtIEZpcmVzIGFmdGVyIGEgc2xpZGUgaXMgYWRkZWRcbiAgICByZW1vdmVkOiBmdW5jdGlvbigpe30sICAgICAgICAgICAvL3tORVd9IENhbGxiYWNrOiBmdW5jdGlvbihzbGlkZXIpIC0gRmlyZXMgYWZ0ZXIgYSBzbGlkZSBpcyByZW1vdmVkXG4gICAgaW5pdDogZnVuY3Rpb24oKSB7fSAgICAgICAgICAgICAvL3tORVd9IENhbGxiYWNrOiBmdW5jdGlvbihzbGlkZXIpIC0gRmlyZXMgYWZ0ZXIgdGhlIHNsaWRlciBpcyBpbml0aWFsbHkgc2V0dXBcbiAgfTtcblxuICAvL0ZsZXhTbGlkZXI6IFBsdWdpbiBGdW5jdGlvblxuICAkLmZuLmZsZXhzbGlkZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkgeyBvcHRpb25zID0ge307IH1cblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSxcbiAgICAgICAgICAgIHNlbGVjdG9yID0gKG9wdGlvbnMuc2VsZWN0b3IpID8gb3B0aW9ucy5zZWxlY3RvciA6IFwiLnNsaWRlcyA+IGxpXCIsXG4gICAgICAgICAgICAkc2xpZGVzID0gJHRoaXMuZmluZChzZWxlY3Rvcik7XG5cbiAgICAgIGlmICggKCAkc2xpZGVzLmxlbmd0aCA9PT0gMSAmJiBvcHRpb25zLmFsbG93T25lU2xpZGUgPT09IGZhbHNlICkgfHwgJHNsaWRlcy5sZW5ndGggPT09IDAgKSB7XG4gICAgICAgICAgJHNsaWRlcy5mYWRlSW4oNDAwKTtcbiAgICAgICAgICBpZiAob3B0aW9ucy5zdGFydCkgeyBvcHRpb25zLnN0YXJ0KCR0aGlzKTsgfVxuICAgICAgICB9IGVsc2UgaWYgKCR0aGlzLmRhdGEoJ2ZsZXhzbGlkZXInKSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbmV3ICQuZmxleHNsaWRlcih0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEhlbHBlciBzdHJpbmdzIHRvIHF1aWNrbHkgcGVyZm9ybSBmdW5jdGlvbnMgb24gdGhlIHNsaWRlclxuICAgICAgdmFyICRzbGlkZXIgPSAkKHRoaXMpLmRhdGEoJ2ZsZXhzbGlkZXInKTtcbiAgICAgIHN3aXRjaCAob3B0aW9ucykge1xuICAgICAgICBjYXNlIFwicGxheVwiOiAkc2xpZGVyLnBsYXkoKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwYXVzZVwiOiAkc2xpZGVyLnBhdXNlKCk7IGJyZWFrO1xuICAgICAgICBjYXNlIFwic3RvcFwiOiAkc2xpZGVyLnN0b3AoKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJuZXh0XCI6ICRzbGlkZXIuZmxleEFuaW1hdGUoJHNsaWRlci5nZXRUYXJnZXQoXCJuZXh0XCIpLCB0cnVlKTsgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJwcmV2XCI6XG4gICAgICAgIGNhc2UgXCJwcmV2aW91c1wiOiAkc2xpZGVyLmZsZXhBbmltYXRlKCRzbGlkZXIuZ2V0VGFyZ2V0KFwicHJldlwiKSwgdHJ1ZSk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwibnVtYmVyXCIpIHsgJHNsaWRlci5mbGV4QW5pbWF0ZShvcHRpb25zLCB0cnVlKTsgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pKGpRdWVyeSk7XG4iXX0=
